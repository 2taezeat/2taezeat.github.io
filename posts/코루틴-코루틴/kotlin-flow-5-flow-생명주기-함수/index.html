<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kotlin Flow, (5) Flow 생명주기 함수 | 2taezeat, blog</title>
<meta name=keywords content><meta name=description content="Flow 생명주기 함수를 알아보자."><meta name=author content="2taezeat"><link rel=canonical href=https://2taezeat.github.io/posts/%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BD%94%EB%A3%A8%ED%8B%B4/kotlin-flow-5-flow-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0-%ED%95%A8%EC%88%98/><meta name=google-site-verification content="YaEERzgrvu-ZwPg7gswZdTzRMufkHw3uIH7i8hVal1c"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.6e2e604ea5f627f6fb97a6a218445753397c457285e9bb47bd4cea346337d49e.css integrity="sha256-bi5gTqX2J/b7l6aiGERXUzl8RXKF6btHvUzqNGM31J4=" rel="preload stylesheet" as=style><link rel=icon href=https://2taezeat.github.io/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://2taezeat.github.io/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://2taezeat.github.io/icon/favicon-32x32.png><link rel=apple-touch-icon href=https://2taezeat.github.io/icon/apple-touch-icon.png><link rel=mask-icon href=https://2taezeat.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://2taezeat.github.io/posts/%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BD%94%EB%A3%A8%ED%8B%B4/kotlin-flow-5-flow-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0-%ED%95%A8%EC%88%98/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Kotlin Flow, (5) Flow 생명주기 함수"><meta property="og:description" content="Flow 생명주기 함수를 알아보자."><meta property="og:type" content="article"><meta property="og:url" content="https://2taezeat.github.io/posts/%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BD%94%EB%A3%A8%ED%8B%B4/kotlin-flow-5-flow-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0-%ED%95%A8%EC%88%98/"><meta property="og:image" content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-15T01:54:46+09:00"><meta property="article:modified_time" content="2023-11-15T01:54:46+09:00"><meta property="og:site_name" content="2taezeat, blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Kotlin Flow, (5) Flow 생명주기 함수"><meta name=twitter:description content="Flow 생명주기 함수를 알아보자."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://2taezeat.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Kotlin Flow, (5) Flow 생명주기 함수","item":"https://2taezeat.github.io/posts/%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BD%94%EB%A3%A8%ED%8B%B4/kotlin-flow-5-flow-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0-%ED%95%A8%EC%88%98/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kotlin Flow, (5) Flow 생명주기 함수","name":"Kotlin Flow, (5) Flow 생명주기 함수","description":"Flow 생명주기 함수를 알아보자.\n","keywords":[],"articleBody":"Flow 생명주기 함수를 알아보자.\n플로우 생명주기 함수 플로우는 요청이 한쪽 방향으로 흐르고, 요청에 의해 생성된 값이 다른 방향으로 흐르는 파이프라 생각할 수 있다. 플로우가 완료되거나 예외가 발생했을 때, 이러한 정보가 전달되어 중간 단계가 종료된다. 모든 정보가 플로우로 전달되므로 값, 예외, 시작, 완료 같은 다른 이벤트를 감지할 수 있다. onEach 플로우의 값을 하나씩 받기 위해 onEach 함수를 사용한다.\nonEach 람다식은 중단 함수이며, 원소는 순서대로 처리(동기) 된다.\nonStart onStart 함수는 최종 연산이 호출될 때와 같이, 플로우가 시작되는 경우에 호출되는 리스너를 설정한다. onStart 는 첫 번째 원소를 ‘요청’ 했을 때 호출되는 함수이다. onStart는 첫 번째 원소가 생성되는 걸 기다렸다 호출되는 게 아니다. onStart 에서도 원소를 내보낼 수 있다. 원소들은 onStart 부터 아래로 흐르게 된다. 1 2 3 4 5 6 7 8 9 10 11 suspend fun main() { flowOf(1, 2) .onEach { delay(1000) } .onStart { println(\"Before\") } .collect { println(it) } } // Before // (1 sec) // 1 // (1 sec) // 2 onCompletion 플로우를 완료할 수 있는, 가장 흔한 방법이다. 플로우 빌더가 끝났을 때 사용된다. 예를 들면, 마지막 원소가 전송되었을 때 onCompleteion 메서드를 사용해 플로우가 완료되었을 때 호출되는 리스너를 추가할 수 있다. 안드로이드 에서 네트워크 응답을 기다리고 있는 척도인 Progress Bar를 보여주기 위해, onStart를 사용하며, 가리기 위해서는 onCompletion을 사용한다. onEmpty 플로우는 예기치 않은 이벤트가 발생하면 값을 내보내기 전에 완료될 수 있다.\nonEmpty 함수 는 원소를 내보내기 전에 플로우가 완료되면 실행된다.\nonEmpty 기본 값을 내보내기 위한 목적으로 사용될 수 있다.\ncatch 플로우를 만들거나 처리하는 도중에 예외가 발생할 수 있다.\n이러한 예외는 아래로 흐르면서 처리하는 단계를 하나씩 닫는다. 하지만 예외를 잡고 관리 할 수도 있다.\n리스너는 예외 인자로 받고 정리를 위한 연산을 수행할 수 있다.\ncatch 함수는 예외를 잡아 전파되는 걸 멈춘다.\n이전 단계는 이미 완료된 상태지만, catch는 새로운 값을 여전히 내보낼 수 있어 남은 플로우를 지속할 수 있다. catch 함수는 윗부분에서 던진 예외에만 반응한다.\n예외는 아래로 흐를 때 잡는다고 생각하면 된다. 1 2 3 4 5 6 7 8 9 10 11 12 13 class MyError : Throwable(\"My error\") val flow = flow { emit(\"Message1\") throw MyError() } suspend fun main(): Unit { flow.catch { emit(\"Error\") } .collect { println(\"Collected $it\") } } // Collected Message1 // Collected Error 잡히지 않은 예외 플로우에서 잡히지 않은 예외는 플로우를 즉시 취소하며, collect는 예외를 다시 던진다. 중단 함수, coroutineScope 모두 같은 방식으로 예외를 처리한다. catch를 사용하는 건(마지막 연산 뒤에 catch가 올 수 없기 때문에) 최종 연산에서 발생한 예외를 처리하는 데 전혀 도움이 되지 않는다. 따라서 collect에서 예외가 발생하면 예외를 잡지 못하게 되어 블록 밖으로 예외가 전달된다. 그러므로, collect의 연산을 onEach로 옮기고 catch 이전에 두는 방법이 자주 사용된다. collect의 연산을 옮긴다면 catch가 모든 예외를 잡을 거라고 확신할 수 있다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 class MyError : Throwable(\"My error\") val flow = flow { emit(\"Message1\") emit(\"Message2\") } suspend fun main(): Unit { flow.onStart { println(\"Before\") } .catch { println(\"Caught $it\") } .collect { throw MyError() } } // Before // Exception in thread \"...\" MyError: My error 1 2 3 4 5 6 7 8 9 10 11 12 13 val flow = flow { emit(\"Message1\") emit(\"Message2\") } suspend fun main(): Unit { flow.onStart { println(\"Before\") } .onEach { throw MyError() } .catch { println(\"Caught $it\") } .collect() } // Before // Caught MyError: My error flowOn onEach, onStart, onCompletiom과 같은 플로우 연산과 flow나 channelFlow와 같은 플로우 빌더의 인자로 사용되는 람다식은 모두 중단 함수이다.\n중단 함수는 context가 필요하며(구조화된 동시성을 위해) 부모와 관계를 유지한다. 플로우의 함수들은 collect가 호출되는 곳의 context에서 context를 얻는다. flowOn 함수로 context를 변경할 수 있다.\nflowOn은 플로우에서 윗부분에 있는 함수에서만 작동한다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 suspend fun present(place: String, message: String) { val ctx = coroutineContext val name = ctx[CoroutineName]?.name println(\"[$name] $message on $place\") } fun messagesFlow(): Flow\u003cString\u003e = flow { present(\"flow builder\", \"Message\") emit(\"Message\") } suspend fun main() { val users = messagesFlow() withContext(CoroutineName(\"Name1\")) { users .flowOn(CoroutineName(\"Name3\")) .onEach { present(\"onEach\", it) } .flowOn(CoroutineName(\"Name2\")) .collect { present(\"collect\", it) } } } // [Name3] Message on flow builder // [Name2] Message on onEach // [Name1] Message on collect launchIn collect는 플로우가 완료될 때 까지 코루틴을 **중단(연기, suspend)**하는 중단 연산이다. launch 빌더로 collect를 래핑하면 플로우를 다른 코루틴에서 처리할 수 있다. 플로우의 확장 함수인 launchIn을 사용하면 유일한 인자로 Scope를 받아 collect를 새로운 코루틴에서 시작할 수 있다. 별도의 코루틴에서 플로우를 시작하기 위해 launchIn을 주로 사용한다. 1 2 3 4 5 6 7 8 9 10 11 12 fun \u003cT\u003e Flow\u003cT\u003e.launchIn(scope: CoroutineScope): Job = scope.launch { collect() } suspend fun main(): Unit = coroutineScope { flowOf(\"User1\", \"User2\") .onStart { println(\"Users:\") } .onEach { println(it) } .launchIn(this) } // Users: // User1 // User2 Reference https://kotlinlang.org/docs/coroutines-guide.html 코틀린 코루틴 Kotlin Coroutines: Deep Dive (Marcin Moskała, 인사이트) ","wordCount":"776","inLanguage":"en","image":"https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-11-15T01:54:46+09:00","dateModified":"2023-11-15T01:54:46+09:00","author":{"@type":"Person","name":"2taezeat"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://2taezeat.github.io/posts/%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BD%94%EB%A3%A8%ED%8B%B4/kotlin-flow-5-flow-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0-%ED%95%A8%EC%88%98/"},"publisher":{"@type":"Organization","name":"2taezeat, blog","logo":{"@type":"ImageObject","url":"https://2taezeat.github.io/icon/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://2taezeat.github.io/ accesskey=h title="2taezeat blog (Alt + H)"><img src=https://2taezeat.github.io/icon/apple-touch-icon.png alt aria-label=logo height=30>2taezeat blog</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://2taezeat.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://2taezeat.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://2taezeat.github.io/searchs/ title=Search><span>Search</span></a></li><li><a href=https://github.com/2taezeat title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://2taezeat.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://2taezeat.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Kotlin Flow, (5) Flow 생명주기 함수</h1><div class=post-meta><span title='2023-11-15 01:54:46 +0900 KST'>2023-11-15</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;776 words&nbsp;·&nbsp;2taezeat</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#플로우-생명주기-함수>플로우 생명주기 함수</a><ul><li><a href=#oneach>onEach</a></li><li><a href=#onstart>onStart</a></li><li><a href=#oncompletion>onCompletion</a></li><li><a href=#onempty>onEmpty</a></li><li><a href=#catch>catch</a></li><li><a href=#잡히지-않은-예외>잡히지 않은 예외</a></li><li><a href=#flowon>flowOn</a></li><li><a href=#launchin>launchIn</a></li></ul></li><li><a href=#reference>Reference</a></li></ul></nav></div></details></div><div class=post-content><p><strong>Flow 생명주기 함수를 알아보자.</strong></p><hr><h1 id=플로우-생명주기-함수>플로우 생명주기 함수<a hidden class=anchor aria-hidden=true href=#플로우-생명주기-함수>#</a></h1><ul><li>플로우는 요청이 한쪽 방향으로 흐르고, 요청에 의해 생성된 값이 다른 방향으로 흐르는 파이프라 생각할 수 있다.</li><li>플로우가 <strong>완료</strong>되거나 <strong>예외</strong>가 발생했을 때, 이러한 정보가 전달되어 <strong>중간 단계</strong>가 <strong>종료</strong>된다.</li><li>모든 정보가 플로우로 전달되므로 <strong>값, 예외, 시작, 완료</strong> 같은 다른 이벤트를 감지할 수 있다.</li></ul><h2 id=oneach>onEach<a hidden class=anchor aria-hidden=true href=#oneach>#</a></h2><ul><li><p>플로우의 <strong>값을 하나씩 받기</strong> 위해 <code>onEach</code> 함수를 사용한다.</p></li><li><p><code>onEach</code> 람다식은 <strong>중단 함수</strong>이며, <strong>원소는 순서대로 처리(동기)</strong> 된다.</p></li></ul><h2 id=onstart>onStart<a hidden class=anchor aria-hidden=true href=#onstart>#</a></h2><ul><li><code>onStart</code> 함수는 <strong>최종 연산</strong>이 호출될 때와 같이, <strong>플로우가 시작되는 경우</strong>에 호출되는 리스너를 설정한다.</li><li><code>onStart</code> 는 첫 번째 원소를 <strong>&lsquo;요청&rsquo;</strong> 했을 때 호출되는 함수이다.<ul><li><code>onStart</code>는 첫 번째 원소가 생성되는 걸 기다렸다 호출되는 게 아니다.</li></ul></li><li><code>onStart</code> 에서도 원소를 내보낼 수 있다.<ul><li>원소들은 <code>onStart</code> 부터 아래로 흐르게 된다.</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>suspend</span> <span class=k>fun</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>flowOf</span><span class=p>(</span><span class=m>1</span><span class=p>,</span> <span class=m>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>onEach</span> <span class=p>{</span> <span class=n>delay</span><span class=p>(</span><span class=m>1000</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>onStart</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=s2>&#34;Before&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>collect</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=k>it</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Before
</span></span></span><span class=line><span class=cl><span class=c1>// (1 sec)
</span></span></span><span class=line><span class=cl><span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1>// (1 sec)
</span></span></span><span class=line><span class=cl><span class=c1>// 2
</span></span></span></code></pre></td></tr></table></div></div><h2 id=oncompletion>onCompletion<a hidden class=anchor aria-hidden=true href=#oncompletion>#</a></h2><ul><li>플로우를 <strong>완료</strong>할 수 있는, 가장 흔한 방법이다.<ul><li><strong>플로우 빌더</strong>가 <strong>끝났을</strong> 때 사용된다. 예를 들면, 마지막 원소가 전송되었을 때</li></ul></li><li><code>onCompleteion</code> 메서드를 사용해 플<strong>로우가 완료되었을 때 호출되는 리스너</strong>를 추가할 수 있다.</li><li>안드로이드 에서 네트워크 응답을 기다리고 있는 척도인 Progress Bar를 보여주기 위해,<ul><li><code>onStart</code>를 사용하며, 가리기 위해서는 <code>onCompletion</code>을 사용한다.</li></ul></li></ul><h2 id=onempty>onEmpty<a hidden class=anchor aria-hidden=true href=#onempty>#</a></h2><ul><li><p>플로우는 <strong>예기치 않은 이벤트</strong>가 발생하면 값을 내보내기 전에 <strong>완료</strong>될 수 있다.</p></li><li><p><code>onEmpty 함수</code> 는 원소를 내보내기 전에 플로우가 <strong>완료</strong>되면 실행된다.</p></li><li><p><code>onEmpty</code> <strong>기본 값</strong>을 내보내기 위한 목적으로 사용될 수 있다.</p></li></ul><h2 id=catch>catch<a hidden class=anchor aria-hidden=true href=#catch>#</a></h2><ul><li><p>플로우를 만들거나 처리하는 도중에 <strong>예외</strong>가 발생할 수 있다.</p><ul><li>이러한 <strong>예외</strong>는 <strong>아래로 흐르면서 처리하는 단계를 하나씩 닫는다.</strong></li></ul></li><li><p>하지만 <strong>예외</strong>를 잡고 관리 할 수도 있다.</p></li><li><p>리스너는 <strong>예외</strong> 인자로 받고 정리를 위한 연산을 수행할 수 있다.</p></li><li><p><code>catch</code> 함수는 <strong>예외</strong>를 잡아 <strong>전파되는 걸 멈춘다.</strong></p><ul><li>이전 단계는 이미 <strong>완료</strong>된 상태지만, <code>catch</code>는 <strong>새로운 값을 여전히 내보낼 수 있어 남은 플로우를 지속</strong>할 수 있다.</li></ul></li><li><p><code>catch</code> 함수는 <strong>윗부분에서 던진 예외에만 반응한다.</strong></p><ul><li><strong>예외</strong>는 아래로 흐를 때 잡는다고 생각하면 된다.</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyError</span> <span class=p>:</span> <span class=n>Throwable</span><span class=p>(</span><span class=s2>&#34;My error&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>val</span> <span class=py>flow</span> <span class=p>=</span> <span class=n>flow</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>emit</span><span class=p>(</span><span class=s2>&#34;Message1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=n>MyError</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>suspend</span> <span class=k>fun</span> <span class=nf>main</span><span class=p>():</span> <span class=n>Unit</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>flow</span><span class=p>.</span><span class=k>catch</span> <span class=p>{</span> <span class=n>emit</span><span class=p>(</span><span class=s2>&#34;Error&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>collect</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=s2>&#34;Collected </span><span class=si>$it</span><span class=s2>&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Collected Message1
</span></span></span><span class=line><span class=cl><span class=c1>// Collected Error
</span></span></span></code></pre></td></tr></table></div></div><h2 id=잡히지-않은-예외>잡히지 않은 예외<a hidden class=anchor aria-hidden=true href=#잡히지-않은-예외>#</a></h2><ul><li><strong>플로우에서 잡히지 않은 예외</strong>는 플로우를 <strong>즉시 취소</strong>하며, <code>collect</code>는 <strong>예외</strong>를 다시 던진다.<ul><li><code>중단 함수</code>, <code>coroutineScope</code> <strong>모두 같은 방식</strong>으로 <strong>예외</strong>를 처리한다.</li></ul></li><li><code>catch</code>를 사용하는 건(마지막 연산 뒤에 <code>catch</code>가 올 수 없기 때문에) <strong>최종 연산</strong>에서 발생한 <strong>예외</strong>를 처리하는 데 전혀 도움이 되지 않는다.<ul><li>따라서 <code>collect</code>에서 <strong>예외</strong>가 발생하면 <strong>예외</strong>를 잡지 못하게 되어 블록 밖으로 <strong>예외</strong>가 전달된다.</li></ul></li><li>그러므로, <code>collect</code>의 연산을 <code>onEach</code>로 옮기고 <code>catch</code> 이전에 두는 방법이 자주 사용된다.<ul><li><code>collect</code>의 연산을 옮긴다면 <code>catch</code>가 모든 <strong>예외</strong>를 잡을 거라고 확신할 수 있다.</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>class</span> <span class=nc>MyError</span> <span class=p>:</span> <span class=n>Throwable</span><span class=p>(</span><span class=s2>&#34;My error&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>val</span> <span class=py>flow</span> <span class=p>=</span> <span class=n>flow</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>emit</span><span class=p>(</span><span class=s2>&#34;Message1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>emit</span><span class=p>(</span><span class=s2>&#34;Message2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>suspend</span> <span class=k>fun</span> <span class=nf>main</span><span class=p>():</span> <span class=n>Unit</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>flow</span><span class=p>.</span><span class=n>onStart</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=s2>&#34;Before&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=k>catch</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=s2>&#34;Caught </span><span class=si>$it</span><span class=s2>&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>collect</span> <span class=p>{</span> <span class=k>throw</span> <span class=n>MyError</span><span class=p>()</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Before
</span></span></span><span class=line><span class=cl><span class=c1>// Exception in thread &#34;...&#34; MyError: My error
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>val</span> <span class=py>flow</span> <span class=p>=</span> <span class=n>flow</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>emit</span><span class=p>(</span><span class=s2>&#34;Message1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>emit</span><span class=p>(</span><span class=s2>&#34;Message2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>suspend</span> <span class=k>fun</span> <span class=nf>main</span><span class=p>():</span> <span class=n>Unit</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>flow</span><span class=p>.</span><span class=n>onStart</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=s2>&#34;Before&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>onEach</span> <span class=p>{</span> <span class=k>throw</span> <span class=n>MyError</span><span class=p>()</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=k>catch</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=s2>&#34;Caught </span><span class=si>$it</span><span class=s2>&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>collect</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Before
</span></span></span><span class=line><span class=cl><span class=c1>// Caught MyError: My error
</span></span></span></code></pre></td></tr></table></div></div><h2 id=flowon>flowOn<a hidden class=anchor aria-hidden=true href=#flowon>#</a></h2><ul><li><p><code>onEach, onStart, onCompletiom</code>과 같은 플로우 연산과 <code>flow나 channelFlow</code>와 같은 <code>플로우 빌더</code>의 인자로 사용되는 람다식은 모두 <strong>중단 함수</strong>이다.</p><ul><li><strong>중단 함수</strong>는 <code>context</code>가 필요하며(<strong>구조화된 동시성</strong>을 위해) 부모와 관계를 유지한다.</li><li>플로우의 함수들은 <code>collect</code><strong>가 호출되는 곳</strong>의 <code>context</code>에서 <code>context</code>를 얻는다.</li></ul></li><li><p><code>flowOn</code> 함수로 <code>context</code>를 변경할 수 있다.</p></li><li><p><code>flowOn</code>은 플로우에서 <strong>윗부분에 있는 함수에서만 작동한다.</strong></p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>suspend</span> <span class=k>fun</span> <span class=nf>present</span><span class=p>(</span><span class=n>place</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span> <span class=n>message</span><span class=p>:</span> <span class=n>String</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>ctx</span> <span class=p>=</span> <span class=n>coroutineContext</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>name</span> <span class=p>=</span> <span class=n>ctx</span><span class=p>[</span><span class=n>CoroutineName</span><span class=p>]</span><span class=o>?.</span><span class=n>name</span>
</span></span><span class=line><span class=cl>    <span class=n>println</span><span class=p>(</span><span class=s2>&#34;[</span><span class=si>$name</span><span class=s2>] </span><span class=si>$message</span><span class=s2> on </span><span class=si>$place</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>fun</span> <span class=nf>messagesFlow</span><span class=p>():</span> <span class=n>Flow</span><span class=p>&lt;</span><span class=n>String</span><span class=p>&gt;</span> <span class=p>=</span> <span class=n>flow</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>present</span><span class=p>(</span><span class=s2>&#34;flow builder&#34;</span><span class=p>,</span> <span class=s2>&#34;Message&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>emit</span><span class=p>(</span><span class=s2>&#34;Message&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>suspend</span> <span class=k>fun</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>users</span> <span class=p>=</span> <span class=n>messagesFlow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>withContext</span><span class=p>(</span><span class=n>CoroutineName</span><span class=p>(</span><span class=s2>&#34;Name1&#34;</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>users</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>flowOn</span><span class=p>(</span><span class=n>CoroutineName</span><span class=p>(</span><span class=s2>&#34;Name3&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>onEach</span> <span class=p>{</span> <span class=n>present</span><span class=p>(</span><span class=s2>&#34;onEach&#34;</span><span class=p>,</span> <span class=k>it</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>flowOn</span><span class=p>(</span><span class=n>CoroutineName</span><span class=p>(</span><span class=s2>&#34;Name2&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>collect</span> <span class=p>{</span> <span class=n>present</span><span class=p>(</span><span class=s2>&#34;collect&#34;</span><span class=p>,</span> <span class=k>it</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// [Name3] Message on flow builder
</span></span></span><span class=line><span class=cl><span class=c1>// [Name2] Message on onEach
</span></span></span><span class=line><span class=cl><span class=c1>// [Name1] Message on collect
</span></span></span></code></pre></td></tr></table></div></div><h2 id=launchin>launchIn<a hidden class=anchor aria-hidden=true href=#launchin>#</a></h2><ul><li><code>collect</code>는 플로우가 <strong>완료</strong>될 때 까지 코루틴을 **중단(연기, suspend)**하는 <strong>중단 연산</strong>이다.</li><li><code>launch 빌더</code>로 <code>collect</code>를 래핑하면 <strong>플로우를 다른 코루틴에서 처리할 수 있다.</strong></li><li>플로우의 <strong>확장 함수</strong>인 <code>launchIn</code>을 사용하면 유일한 인자로 <strong>Scope</strong>를 받아 <code>collect</code>를 <strong>새로운 코루틴</strong>에서 시작할 수 있다.</li><li><strong>별도의 코루틴</strong>에서 <strong>플로우를 시작</strong>하기 위해 <code>launchIn</code>을 주로 사용한다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>fun</span> <span class=p>&lt;</span><span class=nc>T</span><span class=p>&gt;</span> <span class=nf>Flow</span><span class=p>&lt;</span><span class=n>T</span><span class=p>&gt;.</span><span class=n>launchIn</span><span class=p>(</span><span class=n>scope</span><span class=p>:</span> <span class=n>CoroutineScope</span><span class=p>):</span> <span class=n>Job</span> <span class=p>=</span>
</span></span><span class=line><span class=cl>    <span class=n>scope</span><span class=p>.</span><span class=n>launch</span> <span class=p>{</span> <span class=n>collect</span><span class=p>()</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>suspend</span> <span class=k>fun</span> <span class=nf>main</span><span class=p>():</span> <span class=n>Unit</span> <span class=p>=</span> <span class=n>coroutineScope</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>flowOf</span><span class=p>(</span><span class=s2>&#34;User1&#34;</span><span class=p>,</span> <span class=s2>&#34;User2&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>onStart</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=s2>&#34;Users:&#34;</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>onEach</span> <span class=p>{</span> <span class=n>println</span><span class=p>(</span><span class=k>it</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>.</span><span class=n>launchIn</span><span class=p>(</span><span class=k>this</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// Users:
</span></span></span><span class=line><span class=cl><span class=c1>// User1
</span></span></span><span class=line><span class=cl><span class=c1>// User2
</span></span></span></code></pre></td></tr></table></div></div><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><a href=https://kotlinlang.org/docs/coroutines-guide.html>https://kotlinlang.org/docs/coroutines-guide.html</a></li><li>코틀린 코루틴 Kotlin Coroutines: Deep Dive (Marcin Moskała, 인사이트)</li></ul></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://2taezeat.github.io/posts/%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BD%94%EB%A3%A8%ED%8B%B4/kotlin-flow-6-flow-%EC%B2%98%EB%A6%ACprocessing/><span class=title>« Prev</span><br><span>Kotlin Flow, (6) Flow 처리(Processing)</span>
</a><a class=next href=https://2taezeat.github.io/posts/%EC%BD%94%EB%A3%A8%ED%8B%B4-%EC%BD%94%EB%A3%A8%ED%8B%B4/kotlin-flow-4-flow-%EB%A7%8C%EB%93%A4%EA%B8%B0/><span class=title>Next »</span><br><span>Kotlin Flow, (4) Flow 만들기</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin Flow, (5) Flow 생명주기 함수 on x" href="https://x.com/intent/tweet/?text=Kotlin%20Flow%2c%20%285%29%20Flow%20%ec%83%9d%eb%aa%85%ec%a3%bc%ea%b8%b0%20%ed%95%a8%ec%88%98&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin Flow, (5) Flow 생명주기 함수 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f&amp;title=Kotlin%20Flow%2c%20%285%29%20Flow%20%ec%83%9d%eb%aa%85%ec%a3%bc%ea%b8%b0%20%ed%95%a8%ec%88%98&amp;summary=Kotlin%20Flow%2c%20%285%29%20Flow%20%ec%83%9d%eb%aa%85%ec%a3%bc%ea%b8%b0%20%ed%95%a8%ec%88%98&amp;source=https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin Flow, (5) Flow 생명주기 함수 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f&title=Kotlin%20Flow%2c%20%285%29%20Flow%20%ec%83%9d%eb%aa%85%ec%a3%bc%ea%b8%b0%20%ed%95%a8%ec%88%98"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin Flow, (5) Flow 생명주기 함수 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin Flow, (5) Flow 생명주기 함수 on whatsapp" href="https://api.whatsapp.com/send?text=Kotlin%20Flow%2c%20%285%29%20Flow%20%ec%83%9d%eb%aa%85%ec%a3%bc%ea%b8%b0%20%ed%95%a8%ec%88%98%20-%20https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin Flow, (5) Flow 생명주기 함수 on telegram" href="https://telegram.me/share/url?text=Kotlin%20Flow%2c%20%285%29%20Flow%20%ec%83%9d%eb%aa%85%ec%a3%bc%ea%b8%b0%20%ed%95%a8%ec%88%98&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kotlin Flow, (5) Flow 생명주기 함수 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Kotlin%20Flow%2c%20%285%29%20Flow%20%ec%83%9d%eb%aa%85%ec%a3%bc%ea%b8%b0%20%ed%95%a8%ec%88%98&u=https%3a%2f%2f2taezeat.github.io%2fposts%2f%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4-%25EC%25BD%2594%25EB%25A3%25A8%25ED%258B%25B4%2fkotlin-flow-5-flow-%25EC%2583%259D%25EB%25AA%2585%25EC%25A3%25BC%25EA%25B8%25B0-%25ED%2595%25A8%25EC%2588%2598%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=2taezeat/blog_comment issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://2taezeat.github.io/>2taezeat, blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>