<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[오브젝트] ch04. 설계 품질과 트레이드오프 | 2taezeat, blog</title>
<meta name=keywords content="OOP,Kotlin"><meta name=description content="ch04. 설계 품질과 트레이드오프"><meta name=author content="2taezeat"><link rel=canonical href=http://localhost:1313/posts/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-ch04.-%EC%84%A4%EA%B3%84-%ED%92%88%EC%A7%88%EA%B3%BC-%ED%8A%B8%EB%A0%88%EC%9D%B4%ED%8A%B8%EC%98%A4%ED%94%84/><meta name=google-site-verification content="YaEERzgrvu-ZwPg7gswZdTzRMufkHw3uIH7i8hVal1c"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.9bc633d66da2093ac93d30e5b21470b6655a1e928ddc297458ca9dfb4f00c07d.css integrity="sha256-m8Yz1m2iCTrJPTDlshRwtmVaHpKN3Cl0WMqd+08AwH0=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/icon/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/icon/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-ch04.-%EC%84%A4%EA%B3%84-%ED%92%88%EC%A7%88%EA%B3%BC-%ED%8A%B8%EB%A0%88%EC%9D%B4%ED%8A%B8%EC%98%A4%ED%94%84/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="[오브젝트] ch04. 설계 품질과 트레이드오프"><meta property="og:description" content="ch04. 설계 품질과 트레이드오프"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-ch04.-%EC%84%A4%EA%B3%84-%ED%92%88%EC%A7%88%EA%B3%BC-%ED%8A%B8%EB%A0%88%EC%9D%B4%ED%8A%B8%EC%98%A4%ED%94%84/"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-02-01T11:30:03+00:00"><meta property="article:modified_time" content="2024-02-01T11:30:03+00:00"><meta property="og:site_name" content="2taezeat, blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[오브젝트] ch04. 설계 품질과 트레이드오프"><meta name=twitter:description content="ch04. 설계 품질과 트레이드오프"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"[오브젝트] ch04. 설계 품질과 트레이드오프","item":"http://localhost:1313/posts/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-ch04.-%EC%84%A4%EA%B3%84-%ED%92%88%EC%A7%88%EA%B3%BC-%ED%8A%B8%EB%A0%88%EC%9D%B4%ED%8A%B8%EC%98%A4%ED%94%84/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[오브젝트] ch04. 설계 품질과 트레이드오프","name":"[오브젝트] ch04. 설계 품질과 트레이드오프","description":"ch04. 설계 품질과 트레이드오프","keywords":["OOP","Kotlin"],"articleBody":"4. 설계 품질과 트레이드오프 객체지향 설계는 상태(데이터), 책임 으로 분할의 중심축을 삶는 두 가지 방법이 존재\n훌륭한 설계는 데이터가 아니라 책임에 초점을 맞춰야 한다. 상태는 구현에 속한다. 구현은 불안정하기 때문에 변하기 쉽다. 책임은 인터페이스에 속한다. 상태를 캡슐화함으로써, 구현 변경에 대한 파장이 외부로 퍼져나가는 것을 방지한다. 이번 장(ch4) 는 차이를 느끼기 위해 일부러, 데이터의 중심으로 설계해보자\n데이터를 준비하자 가장 큰 차이는 discountConditions 이 인스턴스 변수로 Movie 안에 직접 포함돼 있다는 것 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 class Screening(private val movie: Movie, private val sequence: Int, private val whenScreened: LocalDateTime) { fun getStartTime() = whenScreened fun isSequence(sequence: Int) = this.sequence == sequence fun getMovieFee() = movie.fee fun calculateFee(audienceCount: Int): Money { when (movie.movieType) { MovieType.AMOUNT_DISCOUNT -\u003e if (movie.isDiscountable(whenScreened, sequence)) return movie.calculateAmountDiscountedFee().times(audienceCount.toDouble()) MovieType.PERCENT_DISCOUNT -\u003e if (movie.isDiscountable(whenScreened, sequence)) return movie.calculatePercentDiscountedFee().times(audienceCount.toDouble()) MovieType.NONE_DISCOUNT -\u003e return movie.calculateNoneDiscountedFee().times(audienceCount.toDouble()) } return movie.calculateNoneDiscountedFee().times(audienceCount.toDouble()) } } class Money(private val amount: BigDecimal) { companion object { val ZERO = wons(0) fun wons(amount: Long) = Money(BigDecimal.valueOf(amount)) fun wons(amount: Double) = Money(BigDecimal.valueOf(amount)) } fun plus(amount: Money) = Money(this.amount.add(amount.amount)) fun minus(amount: Money) = Money(this.amount.subtract(amount.amount)) fun times(percent: Double) = Money(this.amount.multiply(BigDecimal.valueOf(percent))) fun isLessThan(other: Money) = amount \u003c other.amount fun isGreaterThan(other: Money) = amount \u003e= other.amount } class DisCountCondition( val discountConditionType: DiscountConditionType, val sequence: Int, val dayOfWeek: DayOfWeek, val startTime: LocalTime, val endTime: LocalTime ) { fun isDiscountable(dayOfWeek: DayOfWeek, time: LocalTime): Boolean { if (discountConditionType != DiscountConditionType.PERIOD) { throw IllegalArgumentException() } return this.dayOfWeek == dayOfWeek \u0026\u0026 startTime \u003c= time \u0026\u0026 endTime \u003e= time } fun isDiscountable(sequence: Int): Boolean { if (discountConditionType != DiscountConditionType.SEQUENCE) { throw IllegalArgumentException() } return this.sequence == sequence } } enum class MovieType { AMOUNT_DISCOUNT, PERCENT_DISCOUNT, NONE_DISCOUNT } enum class DiscountConditionType { SEQUENCE, PERIOD } data class Movie( val title: String, val runningTime: Duration, val fee: Money, val discountConditions: List\u003cDisCountCondition\u003e, val movieType: MovieType, val discountAmount: Money, val discountPercent: Double, ) { fun calculateAmountDiscountedFee(): Money { if (movieType != MovieType.AMOUNT_DISCOUNT) { throw IllegalArgumentException() } return fee.minus(discountAmount) } fun calculatePercentDiscountedFee(): Money { if (movieType != MovieType.PERCENT_DISCOUNT) { throw IllegalArgumentException() } return fee.minus(fee.times(discountPercent)) } fun calculateNoneDiscountedFee(): Money { if (movieType != MovieType.NONE_DISCOUNT) { throw IllegalArgumentException() } return fee } fun isDiscountable(whenScreened: LocalDateTime, sequence: Int): Boolean { for (condition in discountConditions) { if (condition.discountConditionType == DiscountConditionType.PERIOD) { if (condition.isDiscountable(whenScreened.dayOfWeek, whenScreened.toLocalTime())) { return true } } else if (condition.isDiscountable(sequence)) { return true } } return false } } data class Reservation( val customer: Customer, val screening: Screening, val fee: Money, val audienceCount: Int ) class ReservationAgency { fun reserve(screening: Screening, customer: Customer, audienceCount: Int): Reservation { val fee = screening.calculateFee(audienceCount) return Reservation(customer, screening, fee, audienceCount) } } class Customer() 설계 트레이드오프 캡슐화 상태와 행동을 하나의 객체 안에 모으는 이유는 객체의 내부 구현을 외부로부터 감추기 위해서이다.\n구현: 변경될 가능성이 높은 것 인터페이스: 상대적으로 안정적인 부분, 변경 가능성이 적은 부분 객체지향 설계의 가장 중요한 원리: 불안정한 구현 세부사항을 안정적인 인터페이스 뒤로 캡슐화 하는 것\n복잡성 =\u003e 추상화 =\u003e 캡슐화\n캡슐화란 변경 가능성이 높은 부분을 객체 내부로 숨기는 추상화 기법\n변경 될 수 있는 어떤 것이라도 캡슐화 해야 한다 유지보수성 이란\n두려움, 주저함, 저항감 없이 코드를 변경할 수 있는 능력 이때, 캡슐화가 가장 중요한 동료 캡슐화를 위반하는 경우 과도한 접근자와 수정자를 가지게 된다.\n접근자, 수정자 =\u003e 자바의 public get~, public set~ 함수\n사용될 문맥을 추측 할 수밖에 없는 경우 개발자는 어떤 상황에서도 해당 객체가 사용될 수 있게 많은 접근자 메서드를 추가하게 됨\n접근자와 수정자에 과도하게 의존하는 설계 방식: 추측에 의한 설계(design-by-guessing strategy)\n내부 상태를 드러내는 메서드를 최대한 많이 추가할 수 밖에 없어짐, 내부 구현이 퍼블릭 인터페이스에 그대로 노출됨\n응집도와 결합도 높은 응집도와 낮은 결합도를 추구해야 하는 이유는 설계를 변경하기 쉽게 만들기 위함\n결합도가 높아도 상관 없는 경우 변경될 확률이 매우 적은 안정적인 모듈에 의존하는 것\n표준 라이브러리에 포함된 모듈, Ex) String, List 성숙 단계에 포함된 프레임워크 응집도는 모듈에 포함된 내부 요소들이 연관돼 잇는 정도\n객체지향 관점에서 응집도는 객체 또는 클래스에 얼마나 관련 높은 책임을 할당했는지를 나타낸다 응집도는 변경이 발생할 때 모듈 내부에서 발생하는 변경의 정도로 측정 가능하다 하나의 변경을 수용하기 위해 모듈 전체가 함께 변경된다면 응집도가 높은것 하나의 변경에 대해 다수의 모듈이 함께 변경돼야 한다면 응집도가 낮은것 결합도는 다른 모듈에 대해 얼마나 많은 지식을 갖고 있는지를 나타내는 척도\n의존성의 정도를 나타냄 한 모듈이 변경되기 위해서 다른 모듈의 변경을 요구하는 정도로 측정 가능하다 내부 구현을 변경했을 때 이것이 다른 모듈에 영향을 미치는 경우 두 모듈 사이의 결합도가 높다고 한다 데이터 중심 설계에서는 시스템의 어떤 변경도 ReseravtionAgency의 변경을 유발함, 높은 결합도\n많은 요구사항 수정사항에 대해 ReseravtionAgency 을 변경해야 함\n할인 정책 추가 할인 조건 추가 할인 요금 계산 방법 변경 예매 요금 계산 방법 변경 로버트 마틴의, 단일 책임 원칙 (SRP)\n클래스는 단 한가지의 변경 이유만 가져야 한다는 것 주의 할점 단일 ‘책임’ 원칙 에서의 ‘책임’은 ‘변경의 이유’ 라는 의미로 사용된다 역할, ‘책임’, 협력에서 이야기하는 ‘책임’과는 다르며 변경과 관련된 더 큰 개념을 가리킴 자율적인 객체를 향해 캡슐화를 지켜라 Rectangle 클래스는 Int 타입의 top, left, right, bootm 이라는 인스턴스 변수의 존재 사실을 인터페이스를 통해 외부에 노출시킴 접근자와 수정자는 내부 구현을 인터페이스의 일부로 만들기 때문이다. 결과적으로 right, bottom 대신, length, height를 이용해서 사각형을 표현하도록 수정한다면, 기존의 **접근자 메서드(getter, setter)**를 사용하던 모든 코드에 영향을 미침 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 class Rectangle_Bad(var left: Int, var top: Int, var right: Int, var bottom: Int) { // 캡슐화 X } class Rectangle_Good(var left: Int, var top: Int, var right: Int, var bottom: Int) { // 캡슐화 O // 너비와 높이를 조절하는 로직을 캡슐화하여 Rectangle 스스로 증가시키도록, '책임을 이동' fun enlarge(multiple: Int) { right *= multiple bottom *= multiple } } class AnyClass() { fun anyMethodForBad(rectangle: Rectangle_Bad, multiple: Int) { rectangle.right *= multiple rectangle.bottom *= multiple } fun anyMethodForGood(rectangle: Rectangle_Good, multiple: Int) { rectangle.enlarge(multiple) } } 스스로 자신의 데이터를 책임지는 객체 객체를 설계할 때 데이터에 대해 두 가지 질문이 필요 이 객체가 어떤 데이터를 포함해야 하는가? 이 객체가 데이터에 대해 수행해야 하는 오퍼레이션은 무엇인가? 캡슐화 위반 DiscountCondition 의 isDiscountable 함수의 파라미터를 보면, 인스턴스 변수로 DayOfWeek 타입의 변수가 있는 것\n시간 정보가 인스턴스 변수로 포함돼 있다느 사실을 외부에 노출함 DiscountCondition 의 속성을 변경하면, isDiscountable 함수와 이를 사용하는 클라이어도 함께 수정되어야 함\n내부 구현의 변경이 외부로 퍼져나가는 **파급 효과(ripple effect)**는 캡슐화가 부족하다는 증거 Movie의 내부 구현을 인터페이스에 노출시키고 있다.\ncalculateAmountDiscountedFee,calculatePercentDiscountedFee, calculateNoneDiscountedFee 이 함수들은 할인 정책에는 금액, 비율, 미적용 세 가지가 존재한다는 사실을 만천하에 드러낸다. 캡슐화는 단순히 객체 내부의 데이터를 외부로 부터 감추는 것 이상의 의미를 가진다\n캡슐화는 변경될 수 있는 어떤 것이라도 감추는 것 속성의 타입이건, 할인 정책의 종류건 상관 없이 내부 구현의 변경으로 인해 외부의 객체가 영향을 받는 다면 캡슐화를 위반한 것 설계에서 변하는 것이 무엇인지 고려하고 변하는 개념을 캡슐화해야 한다. 높은 결합도, 낮은 응집도 DiscountCondition의 구현을 변경이, 이를 의존하는 Movie 변경으로 이어진다. Screening에서 Movie의 isDiscountable 메서드를 호출하는 부분도 함께 변경해야 한다. 모두 캡슐화를 위반했기 때문이다. 데이터 중심 설계의 문제점 변경에 취약\n본질적으로 너무 이른 시기에 데이터에 관해 결정하도록 강요 협력이라는 문맥을 고려하지 않고 객체를 고립시킨 채 오퍼레이션을 결정한다. 처음부터 데이터에 관해 결정하도록 강요하기에 너무 이른 시기에 내부 구현에 초점을 맞추게 됨\n데이터는 구현의 일부이다. ","wordCount":"1250","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-02-01T11:30:03Z","dateModified":"2024-02-01T11:30:03Z","author":{"@type":"Person","name":"2taezeat"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-ch04.-%EC%84%A4%EA%B3%84-%ED%92%88%EC%A7%88%EA%B3%BC-%ED%8A%B8%EB%A0%88%EC%9D%B4%ED%8A%B8%EC%98%A4%ED%94%84/"},"publisher":{"@type":"Organization","name":"2taezeat, blog","logo":{"@type":"ImageObject","url":"http://localhost:1313/icon/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="2taezeat blog (Alt + H)"><img src=http://localhost:1313/icon/apple-touch-icon.png alt aria-label=logo height=30>2taezeat blog</a><div class=logo-switches></div></div><ul id=menu><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/archives/ title=Archives><span>Archives</span></a></li><li><a href=http://localhost:1313/searchs/ title=Search><span>Search</span></a></li><li><a href=https://github.com/2taezeat title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">[오브젝트] ch04. 설계 품질과 트레이드오프</h1><div class=post-description>ch04. 설계 품질과 트레이드오프</div><div class=post-meta><span title='2024-02-01 11:30:03 +0000 +0000'>2024-02-01</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1250 words&nbsp;·&nbsp;2taezeat</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#4-설계-품질과-트레이드오프>4. 설계 품질과 트레이드오프</a><ul><li><ul><li><a href=#데이터를-준비하자>데이터를 준비하자</a></li></ul></li><li><a href=#설계-트레이드오프>설계 트레이드오프</a><ul><li><a href=#캡슐화>캡슐화</a></li><li><a href=#응집도와-결합도>응집도와 결합도</a></li></ul></li><li><a href=#자율적인-객체를-향해>자율적인 객체를 향해</a><ul><li><a href=#캡슐화를-지켜라>캡슐화를 지켜라</a></li><li><a href=#스스로-자신의-데이터를-책임지는-객체>스스로 자신의 데이터를 책임지는 객체</a></li><li><a href=#캡슐화-위반>캡슐화 위반</a></li><li><a href=#높은-결합도-낮은-응집도>높은 결합도, 낮은 응집도</a></li></ul></li><li><a href=#데이터-중심-설계의-문제점>데이터 중심 설계의 문제점</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=4-설계-품질과-트레이드오프>4. 설계 품질과 트레이드오프<a hidden class=anchor aria-hidden=true href=#4-설계-품질과-트레이드오프>#</a></h1><ul><li><p>객체지향 설계는 <strong>상태(데이터)</strong>, <strong>책임</strong> 으로 분할의 중심축을 삶는 두 가지 방법이 존재</p><ul><li>훌륭한 설계는 데이터가 아니라 책임에 초점을 맞춰야 한다.</li><li>상태는 구현에 속한다.</li><li>구현은 불안정하기 때문에 변하기 쉽다.</li><li>책임은 인터페이스에 속한다.</li><li>상태를 캡슐화함으로써, 구현 변경에 대한 파장이 외부로 퍼져나가는 것을 방지한다.</li></ul></li><li><p>이번 장(ch4) 는 차이를 느끼기 위해 일부러, <strong>데이터의 중심</strong>으로 설계해보자</p></li></ul><h3 id=데이터를-준비하자>데이터를 준비하자<a hidden class=anchor aria-hidden=true href=#데이터를-준비하자>#</a></h3><ul><li>가장 큰 차이는 <code>discountConditions </code>이 인스턴스 변수로 <code>Movie</code> 안에 직접 포함돼 있다는 것</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Screening</span><span class=p>(</span><span class=k>private</span> <span class=k>val</span> <span class=py>movie</span><span class=p>:</span> <span class=n>Movie</span><span class=p>,</span> <span class=k>private</span> <span class=k>val</span> <span class=py>sequence</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>private</span> <span class=k>val</span> <span class=py>whenScreened</span><span class=p>:</span> <span class=n>LocalDateTime</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>getStartTime</span><span class=p>()</span> <span class=p>=</span> <span class=n>whenScreened</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>isSequence</span><span class=p>(</span><span class=n>sequence</span><span class=p>:</span> <span class=n>Int</span><span class=p>)</span> <span class=p>=</span> <span class=k>this</span><span class=p>.</span><span class=n>sequence</span> <span class=o>==</span> <span class=n>sequence</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>getMovieFee</span><span class=p>()</span> <span class=p>=</span> <span class=n>movie</span><span class=p>.</span><span class=n>fee</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>calculateFee</span><span class=p>(</span><span class=n>audienceCount</span><span class=p>:</span> <span class=n>Int</span><span class=p>):</span> <span class=n>Money</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>when</span> <span class=p>(</span><span class=n>movie</span><span class=p>.</span><span class=n>movieType</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nc>MovieType</span><span class=p>.</span><span class=n>AMOUNT_DISCOUNT</span> <span class=o>-&gt;</span> <span class=k>if</span> <span class=p>(</span><span class=n>movie</span><span class=p>.</span><span class=n>isDiscountable</span><span class=p>(</span><span class=n>whenScreened</span><span class=p>,</span> <span class=n>sequence</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>movie</span><span class=p>.</span><span class=n>calculateAmountDiscountedFee</span><span class=p>().</span><span class=n>times</span><span class=p>(</span><span class=n>audienceCount</span><span class=p>.</span><span class=n>toDouble</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nc>MovieType</span><span class=p>.</span><span class=n>PERCENT_DISCOUNT</span> <span class=o>-&gt;</span> <span class=k>if</span> <span class=p>(</span><span class=n>movie</span><span class=p>.</span><span class=n>isDiscountable</span><span class=p>(</span><span class=n>whenScreened</span><span class=p>,</span> <span class=n>sequence</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>movie</span><span class=p>.</span><span class=n>calculatePercentDiscountedFee</span><span class=p>().</span><span class=n>times</span><span class=p>(</span><span class=n>audienceCount</span><span class=p>.</span><span class=n>toDouble</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>            <span class=nc>MovieType</span><span class=p>.</span><span class=n>NONE_DISCOUNT</span> <span class=o>-&gt;</span> <span class=k>return</span> <span class=n>movie</span><span class=p>.</span><span class=n>calculateNoneDiscountedFee</span><span class=p>().</span><span class=n>times</span><span class=p>(</span><span class=n>audienceCount</span><span class=p>.</span><span class=n>toDouble</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>movie</span><span class=p>.</span><span class=n>calculateNoneDiscountedFee</span><span class=p>().</span><span class=n>times</span><span class=p>(</span><span class=n>audienceCount</span><span class=p>.</span><span class=n>toDouble</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Money</span><span class=p>(</span><span class=k>private</span> <span class=k>val</span> <span class=py>amount</span><span class=p>:</span> <span class=n>BigDecimal</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>companion</span> <span class=k>object</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>val</span> <span class=py>ZERO</span> <span class=p>=</span> <span class=n>wons</span><span class=p>(</span><span class=m>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>fun</span> <span class=nf>wons</span><span class=p>(</span><span class=n>amount</span><span class=p>:</span> <span class=n>Long</span><span class=p>)</span> <span class=p>=</span> <span class=n>Money</span><span class=p>(</span><span class=nc>BigDecimal</span><span class=p>.</span><span class=n>valueOf</span><span class=p>(</span><span class=n>amount</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=k>fun</span> <span class=nf>wons</span><span class=p>(</span><span class=n>amount</span><span class=p>:</span> <span class=n>Double</span><span class=p>)</span> <span class=p>=</span> <span class=n>Money</span><span class=p>(</span><span class=nc>BigDecimal</span><span class=p>.</span><span class=n>valueOf</span><span class=p>(</span><span class=n>amount</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>plus</span><span class=p>(</span><span class=n>amount</span><span class=p>:</span> <span class=n>Money</span><span class=p>)</span> <span class=p>=</span> <span class=n>Money</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>amount</span><span class=p>.</span><span class=n>add</span><span class=p>(</span><span class=n>amount</span><span class=p>.</span><span class=n>amount</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>minus</span><span class=p>(</span><span class=n>amount</span><span class=p>:</span> <span class=n>Money</span><span class=p>)</span> <span class=p>=</span> <span class=n>Money</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>amount</span><span class=p>.</span><span class=n>subtract</span><span class=p>(</span><span class=n>amount</span><span class=p>.</span><span class=n>amount</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>times</span><span class=p>(</span><span class=n>percent</span><span class=p>:</span> <span class=n>Double</span><span class=p>)</span> <span class=p>=</span> <span class=n>Money</span><span class=p>(</span><span class=k>this</span><span class=p>.</span><span class=n>amount</span><span class=p>.</span><span class=n>multiply</span><span class=p>(</span><span class=nc>BigDecimal</span><span class=p>.</span><span class=n>valueOf</span><span class=p>(</span><span class=n>percent</span><span class=p>)))</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>isLessThan</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=n>Money</span><span class=p>)</span> <span class=p>=</span> <span class=n>amount</span> <span class=p>&lt;</span> <span class=n>other</span><span class=p>.</span><span class=n>amount</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>isGreaterThan</span><span class=p>(</span><span class=n>other</span><span class=p>:</span> <span class=n>Money</span><span class=p>)</span> <span class=p>=</span> <span class=n>amount</span> <span class=o>&gt;=</span> <span class=n>other</span><span class=p>.</span><span class=n>amount</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>DisCountCondition</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>discountConditionType</span><span class=p>:</span> <span class=n>DiscountConditionType</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>sequence</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>dayOfWeek</span><span class=p>:</span> <span class=n>DayOfWeek</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>startTime</span><span class=p>:</span> <span class=n>LocalTime</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>endTime</span><span class=p>:</span> <span class=n>LocalTime</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>isDiscountable</span><span class=p>(</span><span class=n>dayOfWeek</span><span class=p>:</span> <span class=n>DayOfWeek</span><span class=p>,</span> <span class=n>time</span><span class=p>:</span> <span class=n>LocalTime</span><span class=p>):</span> <span class=n>Boolean</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>discountConditionType</span> <span class=o>!=</span> <span class=nc>DiscountConditionType</span><span class=p>.</span><span class=n>PERIOD</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=n>IllegalArgumentException</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=n>dayOfWeek</span> <span class=o>==</span> <span class=n>dayOfWeek</span> <span class=o>&amp;&amp;</span> <span class=n>startTime</span> <span class=o>&lt;=</span> <span class=n>time</span> <span class=o>&amp;&amp;</span> <span class=n>endTime</span> <span class=o>&gt;=</span> <span class=n>time</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>isDiscountable</span><span class=p>(</span><span class=n>sequence</span><span class=p>:</span> <span class=n>Int</span><span class=p>):</span> <span class=n>Boolean</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>discountConditionType</span> <span class=o>!=</span> <span class=nc>DiscountConditionType</span><span class=p>.</span><span class=n>SEQUENCE</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=n>IllegalArgumentException</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=n>sequence</span> <span class=o>==</span> <span class=n>sequence</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>enum</span> <span class=k>class</span> <span class=nc>MovieType</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>AMOUNT_DISCOUNT</span><span class=p>,</span> <span class=n>PERCENT_DISCOUNT</span><span class=p>,</span> <span class=n>NONE_DISCOUNT</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>enum</span> <span class=k>class</span> <span class=nc>DiscountConditionType</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>SEQUENCE</span><span class=p>,</span> <span class=n>PERIOD</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>data</span> <span class=k>class</span> <span class=nc>Movie</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>title</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>runningTime</span><span class=p>:</span> <span class=n>Duration</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>fee</span><span class=p>:</span> <span class=n>Money</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>discountConditions</span><span class=p>:</span> <span class=n>List</span><span class=p>&lt;</span><span class=n>DisCountCondition</span><span class=p>&gt;,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>movieType</span><span class=p>:</span> <span class=n>MovieType</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>discountAmount</span><span class=p>:</span> <span class=n>Money</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>discountPercent</span><span class=p>:</span> <span class=n>Double</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>calculateAmountDiscountedFee</span><span class=p>():</span> <span class=n>Money</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>movieType</span> <span class=o>!=</span> <span class=nc>MovieType</span><span class=p>.</span><span class=n>AMOUNT_DISCOUNT</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=n>IllegalArgumentException</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>fee</span><span class=p>.</span><span class=n>minus</span><span class=p>(</span><span class=n>discountAmount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>calculatePercentDiscountedFee</span><span class=p>():</span> <span class=n>Money</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>movieType</span> <span class=o>!=</span> <span class=nc>MovieType</span><span class=p>.</span><span class=n>PERCENT_DISCOUNT</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=n>IllegalArgumentException</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>fee</span><span class=p>.</span><span class=n>minus</span><span class=p>(</span><span class=n>fee</span><span class=p>.</span><span class=n>times</span><span class=p>(</span><span class=n>discountPercent</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>calculateNoneDiscountedFee</span><span class=p>():</span> <span class=n>Money</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=p>(</span><span class=n>movieType</span> <span class=o>!=</span> <span class=nc>MovieType</span><span class=p>.</span><span class=n>NONE_DISCOUNT</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>throw</span> <span class=n>IllegalArgumentException</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>fee</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>isDiscountable</span><span class=p>(</span><span class=n>whenScreened</span><span class=p>:</span> <span class=n>LocalDateTime</span><span class=p>,</span> <span class=n>sequence</span><span class=p>:</span> <span class=n>Int</span><span class=p>):</span> <span class=n>Boolean</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=p>(</span><span class=n>condition</span> <span class=k>in</span> <span class=n>discountConditions</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=p>(</span><span class=n>condition</span><span class=p>.</span><span class=n>discountConditionType</span> <span class=o>==</span> <span class=nc>DiscountConditionType</span><span class=p>.</span><span class=n>PERIOD</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>if</span> <span class=p>(</span><span class=n>condition</span><span class=p>.</span><span class=n>isDiscountable</span><span class=p>(</span><span class=n>whenScreened</span><span class=p>.</span><span class=n>dayOfWeek</span><span class=p>,</span> <span class=n>whenScreened</span><span class=p>.</span><span class=n>toLocalTime</span><span class=p>()))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=k>return</span> <span class=k>true</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=p>(</span><span class=n>condition</span><span class=p>.</span><span class=n>isDiscountable</span><span class=p>(</span><span class=n>sequence</span><span class=p>))</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=k>true</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=k>false</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>data</span> <span class=k>class</span> <span class=nc>Reservation</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>customer</span><span class=p>:</span> <span class=n>Customer</span><span class=p>,</span> <span class=k>val</span> <span class=py>screening</span><span class=p>:</span> <span class=n>Screening</span><span class=p>,</span> <span class=k>val</span> <span class=py>fee</span><span class=p>:</span> <span class=n>Money</span><span class=p>,</span> <span class=k>val</span> <span class=py>audienceCount</span><span class=p>:</span> <span class=n>Int</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>ReservationAgency</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>reserve</span><span class=p>(</span><span class=n>screening</span><span class=p>:</span> <span class=n>Screening</span><span class=p>,</span> <span class=n>customer</span><span class=p>:</span> <span class=n>Customer</span><span class=p>,</span> <span class=n>audienceCount</span><span class=p>:</span> <span class=n>Int</span><span class=p>):</span> <span class=n>Reservation</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>val</span> <span class=py>fee</span> <span class=p>=</span> <span class=n>screening</span><span class=p>.</span><span class=n>calculateFee</span><span class=p>(</span><span class=n>audienceCount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>Reservation</span><span class=p>(</span><span class=n>customer</span><span class=p>,</span> <span class=n>screening</span><span class=p>,</span> <span class=n>fee</span><span class=p>,</span> <span class=n>audienceCount</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Customer</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=설계-트레이드오프>설계 트레이드오프<a hidden class=anchor aria-hidden=true href=#설계-트레이드오프>#</a></h2><h3 id=캡슐화>캡슐화<a hidden class=anchor aria-hidden=true href=#캡슐화>#</a></h3><ul><li><p>상태와 행동을 하나의 객체 안에 모으는 이유는 객체의 내부 구현을 외부로부터 감추기 위해서이다.</p><ul><li><strong>구현</strong>: 변경될 가능성이 높은 것</li><li><strong>인터페이스</strong>: 상대적으로 안정적인 부분, 변경 가능성이 적은 부분</li></ul></li><li><p>객체지향 설계의 가장 중요한 원리: 불안정한 구현 세부사항을 안정적인 인터페이스 뒤로 캡슐화 하는 것</p></li><li><p><strong>복잡성 => 추상화 => 캡슐화</strong></p></li><li><p>캡슐화란 변경 가능성이 높은 부분을 객체 내부로 숨기는 <strong>추상화 기법</strong></p><ul><li>변경 될 수 있는 어떤 것이라도 <strong>캡슐화</strong> 해야 한다</li></ul></li><li><p><strong>유지보수성</strong> 이란</p><ul><li>두려움, 주저함, 저항감 없이 코드를 변경할 수 있는 능력</li><li>이때, 캡슐화가 가장 중요한 동료</li></ul></li><li><p>캡슐화를 위반하는 경우 과도한 <strong>접근자와 수정자</strong>를 가지게 된다.</p><ul><li><p><strong>접근자, 수정자</strong> => 자바의 <code>public get~, public set~</code> 함수</p></li><li><p>사용될 문맥을 추측 할 수밖에 없는 경우 개발자는 어떤 상황에서도 해당 객체가 사용될 수 있게 많은 접근자 메서드를 추가하게 됨</p></li><li><p>접근자와 수정자에 과도하게 의존하는 설계 방식: <strong>추측에 의한 설계(design-by-guessing strategy)</strong></p></li><li><p>내부 상태를 드러내는 메서드를 최대한 많이 추가할 수 밖에 없어짐, 내부 구현이 퍼블릭 인터페이스에 그대로 노출됨</p></li></ul></li></ul><h3 id=응집도와-결합도>응집도와 결합도<a hidden class=anchor aria-hidden=true href=#응집도와-결합도>#</a></h3><ul><li><p>높은 응집도와 낮은 결합도를 추구해야 하는 이유는 설계를 변경하기 쉽게 만들기 위함</p></li><li><p>결합도가 높아도 상관 없는 경우 변경될 확률이 매우 적은 안정적인 모듈에 의존하는 것</p><ul><li>표준 라이브러리에 포함된 모듈, Ex) <code>String, List</code></li><li>성숙 단계에 포함된 프레임워크</li></ul></li><li><p>응집도는 모듈에 포함된 내부 요소들이 연관돼 잇는 정도</p><ul><li>객체지향 관점에서 응집도는 객체 또는 클래스에 얼마나 관련 높은 <strong>책임</strong>을 할당했는지를 나타낸다</li><li>응집도는 변경이 발생할 때 모듈 내부에서 발생하는 변경의 정도로 <strong>측정 가능</strong>하다<ul><li>하나의 변경을 수용하기 위해 모듈 전체가 함께 변경된다면 응집도가 높은것</li><li>하나의 변경에 대해 다수의 모듈이 함께 변경돼야 한다면 응집도가 낮은것</li></ul></li></ul></li><li><p>결합도는 다른 모듈에 대해 얼마나 많은 지식을 갖고 있는지를 나타내는 척도</p><ul><li>의존성의 정도를 나타냄</li><li>한 모듈이 변경되기 위해서 다른 모듈의 변경을 요구하는 정도로 <strong>측정 가능</strong>하다</li><li>내부 구현을 변경했을 때 이것이 다른 모듈에 영향을 미치는 경우 두 모듈 사이의 결합도가 높다고 한다</li></ul></li><li><p>데이터 중심 설계에서는 시스템의 어떤 변경도 <code>ReseravtionAgency</code>의 변경을 유발함, 높은 결합도</p></li><li><p>많은 요구사항 수정사항에 대해 <code>ReseravtionAgency</code> 을 변경해야 함</p><ul><li>할인 정책 추가</li><li>할인 조건 추가</li><li>할인 요금 계산 방법 변경</li><li>예매 요금 계산 방법 변경</li></ul></li><li><p>로버트 마틴의, 단일 책임 원칙 (SRP)</p><ul><li>클래스는 단 한가지의 변경 이유만 가져야 한다는 것</li><li>주의 할점<ul><li>단일 &lsquo;책임&rsquo; 원칙 에서의 &lsquo;책임&rsquo;은 &lsquo;변경의 이유&rsquo; 라는 의미로 사용된다</li><li>역할, &lsquo;책임&rsquo;, 협력에서 이야기하는 &lsquo;책임&rsquo;과는 다르며 변경과 관련된 더 큰 개념을 가리킴</li></ul></li></ul></li></ul><h2 id=자율적인-객체를-향해>자율적인 객체를 향해<a hidden class=anchor aria-hidden=true href=#자율적인-객체를-향해>#</a></h2><h3 id=캡슐화를-지켜라>캡슐화를 지켜라<a hidden class=anchor aria-hidden=true href=#캡슐화를-지켜라>#</a></h3><ul><li><code>Rectangle 클래스는 Int 타입</code>의 <code>top, left, right, bootm</code> 이라는 인스턴스 변수의 존재 사실을 인터페이스를 통해 외부에 노출시킴</li><li><strong>접근자와 수정자</strong>는 내부 구현을 인터페이스의 일부로 만들기 때문이다.</li><li>결과적으로 <code>right, bottom</code> 대신, <code>length, height</code>를 이용해서 사각형을 표현하도록 수정한다면, 기존의 **접근자 메서드(getter, setter)**를 사용하던 모든 코드에 영향을 미침</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>class</span> <span class=nc>Rectangle</span><span class=n>_Bad</span><span class=p>(</span><span class=k>var</span> <span class=py>left</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>var</span> <span class=py>top</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>var</span> <span class=py>right</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>var</span> <span class=py>bottom</span><span class=p>:</span> <span class=n>Int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 캡슐화 X
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Rectangle</span><span class=n>_Good</span><span class=p>(</span><span class=k>var</span> <span class=py>left</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>var</span> <span class=py>top</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>var</span> <span class=py>right</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span> <span class=k>var</span> <span class=py>bottom</span><span class=p>:</span> <span class=n>Int</span><span class=p>)</span> <span class=p>{</span> <span class=c1>// 캡슐화 O
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// 너비와 높이를 조절하는 로직을 캡슐화하여 Rectangle 스스로 증가시키도록, &#39;책임을 이동&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>fun</span> <span class=nf>enlarge</span><span class=p>(</span><span class=n>multiple</span><span class=p>:</span> <span class=n>Int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>right</span> <span class=o>*=</span> <span class=n>multiple</span>
</span></span><span class=line><span class=cl>        <span class=n>bottom</span> <span class=o>*=</span> <span class=n>multiple</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>AnyClass</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>anyMethodForBad</span><span class=p>(</span><span class=n>rectangle</span><span class=p>:</span> <span class=n>Rectangle_Bad</span><span class=p>,</span> <span class=n>multiple</span><span class=p>:</span> <span class=n>Int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>rectangle</span><span class=p>.</span><span class=n>right</span> <span class=o>*=</span> <span class=n>multiple</span>
</span></span><span class=line><span class=cl>        <span class=n>rectangle</span><span class=p>.</span><span class=n>bottom</span> <span class=o>*=</span> <span class=n>multiple</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>anyMethodForGood</span><span class=p>(</span><span class=n>rectangle</span><span class=p>:</span> <span class=n>Rectangle_Good</span><span class=p>,</span> <span class=n>multiple</span><span class=p>:</span> <span class=n>Int</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>rectangle</span><span class=p>.</span><span class=n>enlarge</span><span class=p>(</span><span class=n>multiple</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=스스로-자신의-데이터를-책임지는-객체>스스로 자신의 데이터를 책임지는 객체<a hidden class=anchor aria-hidden=true href=#스스로-자신의-데이터를-책임지는-객체>#</a></h3><ul><li>객체를 설계할 때 데이터에 대해 두 가지 질문이 필요<ol><li>이 객체가 어떤 데이터를 <strong>포함</strong>해야 하는가?</li><li>이 객체가 데이터에 대해 수행해야 하는 <strong>오퍼레이션</strong>은 무엇인가?</li></ol></li></ul><h3 id=캡슐화-위반>캡슐화 위반<a hidden class=anchor aria-hidden=true href=#캡슐화-위반>#</a></h3><ul><li><p><code>DiscountCondition</code> 의 <code>isDiscountable</code> 함수의 파라미터를 보면, 인스턴스 변수로 <code>DayOfWeek</code> 타입의 변수가 있는 것</p><ul><li>시간 정보가 인스턴스 변수로 포함돼 있다느 사실을 외부에 노출함</li></ul></li><li><p><code>DiscountCondition</code> 의 속성을 변경하면, <code>isDiscountable</code> 함수와 이를 사용하는 클라이어도 함께 수정되어야 함</p><ul><li>내부 구현의 변경이 외부로 퍼져나가는 **파급 효과(ripple effect)**는 캡슐화가 부족하다는 증거</li></ul></li><li><p><code>Movie</code>의 내부 구현을 인터페이스에 노출시키고 있다.</p><ul><li><code>calculateAmountDiscountedFee</code>,<code>calculatePercentDiscountedFee</code>, <code>calculateNoneDiscountedFee</code></li><li>이 함수들은 할인 정책에는 <code>금액, 비율, 미적용</code> 세 가지가 존재한다는 사실을 만천하에 드러낸다.</li></ul></li><li><p>캡슐화는 단순히 객체 내부의 데이터를 외부로 부터 감추는 것 이상의 의미를 가진다</p><ul><li>캡슐화는 변경될 수 있는 어떤 것이라도 감추는 것</li><li>속성의 타입이건, 할인 정책의 종류건 상관 없이 내부 구현의 변경으로 인해 외부의 객체가 영향을 받는 다면 캡슐화를 위반한 것</li><li>설계에서 변하는 것이 무엇인지 고려하고 <strong>변하는 개념을 캡슐화</strong>해야 한다.</li></ul></li></ul><h3 id=높은-결합도-낮은-응집도>높은 결합도, 낮은 응집도<a hidden class=anchor aria-hidden=true href=#높은-결합도-낮은-응집도>#</a></h3><ul><li><code>DiscountCondition</code>의 구현을 변경이, 이를 의존하는 <code>Movie</code> 변경으로 이어진다.</li><li><code>Screening</code>에서 <code>Movie</code>의 <code>isDiscountable</code> 메서드를 호출하는 부분도 함께 변경해야 한다.</li><li>모두 <strong>캡슐화</strong>를 위반했기 때문이다.</li></ul><h2 id=데이터-중심-설계의-문제점>데이터 중심 설계의 문제점<a hidden class=anchor aria-hidden=true href=#데이터-중심-설계의-문제점>#</a></h2><ul><li><p>변경에 취약</p><ol><li>본질적으로 너무 이른 시기에 데이터에 관해 결정하도록 강요</li><li>협력이라는 문맥을 고려하지 않고 객체를 고립시킨 채 오퍼레이션을 결정한다.</li></ol></li><li><p>처음부터 데이터에 관해 결정하도록 강요하기에 너무 이른 시기에 내부 구현에 초점을 맞추게 됨</p><ul><li>데이터는 <strong>구현</strong>의 일부이다.</li></ul></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/oop/>OOP</a></li><li><a href=http://localhost:1313/tags/kotlin/>Kotlin</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8/%EC%98%A4%EB%B8%8C%EC%A0%9D%ED%8A%B8-ch01.-%EA%B0%9D%EC%B2%B4-%EC%84%A4%EA%B3%84/><span class=title>« Prev</span><br><span>[오브젝트] ch01. 객체, 설계</span>
</a><a class=next href=http://localhost:1313/posts/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0-%EC%A0%84%EB%9E%B5/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0-%EC%A0%84%EB%9E%B5-ch32.-%EA%B7%B8%EB%9E%98%ED%94%84/><span class=title>Next »</span><br><span>[알고리즘 문제 해결 전략] ch32. 그래프</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share [오브젝트] ch04. 설계 품질과 트레이드오프 on x" href="https://x.com/intent/tweet/?text=%5b%ec%98%a4%eb%b8%8c%ec%a0%9d%ed%8a%b8%5d%20ch04.%20%ec%84%a4%ea%b3%84%20%ed%92%88%ec%a7%88%ea%b3%bc%20%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f&amp;hashtags=OOP%2cKotlin"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [오브젝트] ch04. 설계 품질과 트레이드오프 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f&amp;title=%5b%ec%98%a4%eb%b8%8c%ec%a0%9d%ed%8a%b8%5d%20ch04.%20%ec%84%a4%ea%b3%84%20%ed%92%88%ec%a7%88%ea%b3%bc%20%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84&amp;summary=%5b%ec%98%a4%eb%b8%8c%ec%a0%9d%ed%8a%b8%5d%20ch04.%20%ec%84%a4%ea%b3%84%20%ed%92%88%ec%a7%88%ea%b3%bc%20%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84&amp;source=http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [오브젝트] ch04. 설계 품질과 트레이드오프 on reddit" href="https://reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f&title=%5b%ec%98%a4%eb%b8%8c%ec%a0%9d%ed%8a%b8%5d%20ch04.%20%ec%84%a4%ea%b3%84%20%ed%92%88%ec%a7%88%ea%b3%bc%20%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [오브젝트] ch04. 설계 품질과 트레이드오프 on facebook" href="https://facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [오브젝트] ch04. 설계 품질과 트레이드오프 on whatsapp" href="https://api.whatsapp.com/send?text=%5b%ec%98%a4%eb%b8%8c%ec%a0%9d%ed%8a%b8%5d%20ch04.%20%ec%84%a4%ea%b3%84%20%ed%92%88%ec%a7%88%ea%b3%bc%20%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84%20-%20http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [오브젝트] ch04. 설계 품질과 트레이드오프 on telegram" href="https://telegram.me/share/url?text=%5b%ec%98%a4%eb%b8%8c%ec%a0%9d%ed%8a%b8%5d%20ch04.%20%ec%84%a4%ea%b3%84%20%ed%92%88%ec%a7%88%ea%b3%bc%20%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84&amp;url=http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [오브젝트] ch04. 설계 품질과 트레이드오프 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%5b%ec%98%a4%eb%b8%8c%ec%a0%9d%ed%8a%b8%5d%20ch04.%20%ec%84%a4%ea%b3%84%20%ed%92%88%ec%a7%88%ea%b3%bc%20%ed%8a%b8%eb%a0%88%ec%9d%b4%eb%93%9c%ec%98%a4%ed%94%84&u=http%3a%2f%2flocalhost%3a1313%2fposts%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8%2f%25EC%2598%25A4%25EB%25B8%258C%25EC%25A0%259D%25ED%258A%25B8-ch04.-%25EC%2584%25A4%25EA%25B3%2584-%25ED%2592%2588%25EC%25A7%2588%25EA%25B3%25BC-%25ED%258A%25B8%25EB%25A0%2588%25EC%259D%25B4%25ED%258A%25B8%25EC%2598%25A4%25ED%2594%2584%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=2taezeat/blog_comment issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=http://localhost:1313/>2taezeat, blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>