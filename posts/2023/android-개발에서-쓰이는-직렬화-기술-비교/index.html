<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Android 개발에서 쓰이는, 직렬화 기술 비교 | 2taezeat, blog</title>
<meta name=keywords content="Android"><meta name=description content="여러 역/직렬화 라이브러리 중 무엇을 쓸까?"><meta name=author content="2taezeat"><link rel=canonical href=https://2taezeat.github.io/posts/2023/android-%EA%B0%9C%EB%B0%9C%EC%97%90%EC%84%9C-%EC%93%B0%EC%9D%B4%EB%8A%94-%EC%A7%81%EB%A0%AC%ED%99%94-%EA%B8%B0%EC%88%A0-%EB%B9%84%EA%B5%90/><meta name=google-site-verification content="YaEERzgrvu-ZwPg7gswZdTzRMufkHw3uIH7i8hVal1c"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.0653c5fc8a439a898cd1fe8a206477ec49246832c1f79c575f5c6b9e1810bdb9.css integrity="sha256-BlPF/IpDmomM0f6KIGR37EkkaDLB95xXX1xrnhgQvbk=" rel="preload stylesheet" as=style><link rel=icon href=https://2taezeat.github.io/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://2taezeat.github.io/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://2taezeat.github.io/icon/favicon-32x32.png><link rel=apple-touch-icon href=https://2taezeat.github.io/icon/apple-touch-icon.png><link rel=mask-icon href=https://2taezeat.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://2taezeat.github.io/posts/2023/android-%EA%B0%9C%EB%B0%9C%EC%97%90%EC%84%9C-%EC%93%B0%EC%9D%B4%EB%8A%94-%EC%A7%81%EB%A0%AC%ED%99%94-%EA%B8%B0%EC%88%A0-%EB%B9%84%EA%B5%90/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Android 개발에서 쓰이는, 직렬화 기술 비교"><meta property="og:description" content="여러 역/직렬화 라이브러리 중 무엇을 쓸까?"><meta property="og:type" content="article"><meta property="og:url" content="https://2taezeat.github.io/posts/2023/android-%EA%B0%9C%EB%B0%9C%EC%97%90%EC%84%9C-%EC%93%B0%EC%9D%B4%EB%8A%94-%EC%A7%81%EB%A0%AC%ED%99%94-%EA%B8%B0%EC%88%A0-%EB%B9%84%EA%B5%90/"><meta property="og:image" content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-01T11:30:03+00:00"><meta property="article:modified_time" content="2023-11-01T11:30:03+00:00"><meta property="og:site_name" content="2taezeat, blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Android 개발에서 쓰이는, 직렬화 기술 비교"><meta name=twitter:description content="여러 역/직렬화 라이브러리 중 무엇을 쓸까?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://2taezeat.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Android 개발에서 쓰이는, 직렬화 기술 비교","item":"https://2taezeat.github.io/posts/2023/android-%EA%B0%9C%EB%B0%9C%EC%97%90%EC%84%9C-%EC%93%B0%EC%9D%B4%EB%8A%94-%EC%A7%81%EB%A0%AC%ED%99%94-%EA%B8%B0%EC%88%A0-%EB%B9%84%EA%B5%90/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Android 개발에서 쓰이는, 직렬화 기술 비교","name":"Android 개발에서 쓰이는, 직렬화 기술 비교","description":"여러 역/직렬화 라이브러리 중 무엇을 쓸까?","keywords":["Android"],"articleBody":"개요 android application 에서는 주로 retrofit2 을 사용하여, json(JavaScript Object Notation) 을 주고 받으면서 서버와 통신한다.\njson 직렬화(Serialization) 란, 프로그래밍 언어에서 사용되는 데이터 구조를 json 형식으로 변환하는 과정\n역직렬화 : 직렬화된 데이터를 다시 객체의 형태로 만드는 것\nretrofit 를 이용하여 서버와 통신할 때, converter를 지정해주면 retrofit이 자동으로 역/직렬화 를 수행해준다.\n이때, 여러 converter, 역/직렬화 라이브러리 들이 있다.\n대표적으로 Gson, Moshi, kotlinx.serialization 이 존재한다. 3가지 라이브러리들을 비교 해보고 kotlinx.serialization를 선택한 이유와 특징을 살펴본다.\nGson vs Moshi Gson Google에서 개발한 Java 기반의 오픈 소스 json 데이터 처리 라이브러리 Gson은 현재 maintenance mode로 새로운 기능을 개발하는 것이 아닌 bug fix와 같은 유지보수성 업데이트만 진행되고 있다. Moshi retrofit을 만든, Square사에서 개발한 json 직렬화 라이브러리로, java와 kotlin에서 JSON 데이터를 처리하는 데 사용된다. Moshi 가 Gson 보다 더 좋은 점 높은 성능과 속도: Moshi는 경량화, 최적화된 구조를 통해 높은 성능을 지원한다.\nKotlin 호환성: Moshi는 Kotlin과의 높은 호환성을 가지고 있다. Kotlin의 Nullable 형식을 자동으로 처리하여, JSON 데이터를 다룰 수 있도록 지원한다.\n정적 타입 지원: Moshi는 코드 생성(codegen)을 통해 정적 타입 어노테이션을 지원합니다. 이를 활용하여 JSON 데이터의 파싱 과정에서 타입 안정성을 제공하고, 컴파일 시간에 발생할 수 있는 오류를 미리 방지할 수 있다.\n코드 자동 생성(codegen): Moshi는 어노테이션 기반 코드 생성을 지원하여 JSON 데이터 처리를 런타임이 아닌 컴파일 시점에 처리할 수 있게 해준다.\nkotlinx.serialization 의 대표적인 특징 kotlin 1.4 version 에서 나온 JetBrain이 개발한 역/직렬화 라이브러리\n다른 컨버터 라이브러리와 다르게 Reflection을 사용하지 않고 개발한 라이브러리 (성능 이점)\nKotlin-oriented kotlin의 default value 기능을 사용할 수 있다. KMM, kotlin/js, kotlin/native 에서도 사용가능하다. 1 2 3 4 5 @Serializable data class Project( val name: String, val language: String = \"Kotlin\" ) 이 문자열을 Gson 라이브러리로 파싱하면, name에는 정상적으로 값이 대입되지만 language 에는 null이 대입된다. 즉, non-null인 프로퍼티가 null 값을 가지게 될 뿐 아니라, language 프로퍼티의 기본값 조차 반영되지 않는 문제가 발생한다.\n1 2 3 4 5 println(Gson().fromJson(inputString, Project::class.java)) //Gson: Project(name=kotlinx.serialization, language=null) println(Json.decodeFromString\u003cProject\u003e(inputString)) //kotlinx.serialization: Project(name=kotlinx.serialization, language=Kotlin) compile-time safe 기본적으로 @Serializable 이 있는 클래스만 직렬화한다. 직렬화를 수행할 수 없는 경우 런타임 에러 대신 컴파일 에러가 발생하므로 버그를 사전에 방지가 가능하다. 1 2 3 4 5 6 7 8 9 @Serializable data class Project( val name: String, val owner: User, // 컴파일 에러 발생: Serializer for type User has not been found val language: String = \"Kotlin\" ) // @Serializable 어노테이션이 없으므로 직렬화를 지원하지 않습니다. data class User(val userName: String) 이 떄, 직렬화를 지원하지 않는 클래스인 User 클래스를 직렬화를 지원하는 Project 클래스의 프로퍼티로 넣으면 다음과 같이 컴파일 에러가 발생한다.\nPolymorphic serialization 상속 구조나 다형성을 파악해 직렬화를 해준다. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 @Serializable sealed class Project { abstract val name: String var status = \"open\" } @Serializable @SerialName(\"owned\") class OwnedProject(override val name: String, val owner: String) : Project() fun main() { val json = Json { encodeDefaults = true } // \"status\" will be skipped otherwise val data: Project = OwnedProject(\"kotlinx.coroutines\", \"kotlin\") println(json.encodeToString(data)) } // {\"type\":\"owned\",\"status\":\"open\",\"name\":\"kotlinx.coroutines\",\"owner\":\"kotlin\"} 결론 Moshi이 Gson에 비해 장점도 있지만, 서술한 kotlinx.serialization 의 대표적인 특징 때문에, retrofit의 역/직렬화 converter 라이브러리는 kotlinx.serialization 으로 선택하였다.\nreference https://www.youtube.com/watch?v=Azi57n59ICM https://proandroiddev.com/goodbye-gson-hello-moshi-4e591116231e https://blog.imqa.io/json-moshi/ https://www.androidhuman.com/2020-11-08-kotlin_1_4_serialization https://github.com/Kotlin/kotlinx.serialization ","wordCount":"497","inLanguage":"en","image":"https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-11-01T11:30:03Z","dateModified":"2023-11-01T11:30:03Z","author":{"@type":"Person","name":"2taezeat"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://2taezeat.github.io/posts/2023/android-%EA%B0%9C%EB%B0%9C%EC%97%90%EC%84%9C-%EC%93%B0%EC%9D%B4%EB%8A%94-%EC%A7%81%EB%A0%AC%ED%99%94-%EA%B8%B0%EC%88%A0-%EB%B9%84%EA%B5%90/"},"publisher":{"@type":"Organization","name":"2taezeat, blog","logo":{"@type":"ImageObject","url":"https://2taezeat.github.io/icon/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://2taezeat.github.io/ accesskey=h title="2taezeat blog (Alt + H)"><img src=https://2taezeat.github.io/icon/apple-touch-icon.png alt aria-label=logo height=30>2taezeat blog</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://2taezeat.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://2taezeat.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://2taezeat.github.io/searchs/ title=Search><span>Search</span></a></li><li><a href=https://github.com/2taezeat title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://2taezeat.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://2taezeat.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Android 개발에서 쓰이는, 직렬화 기술 비교</h1><div class=post-description>여러 역/직렬화 라이브러리 중 무엇을 쓸까?</div><div class=post-meta><span title='2023-11-01 11:30:03 +0000 +0000'>2023-11-01</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;497 words&nbsp;·&nbsp;2taezeat</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#개요>개요</a></li><li><a href=#gson-vs-moshi>Gson vs Moshi</a><ul><li><a href=#gson>Gson</a></li><li><a href=#moshi>Moshi</a></li><li><a href=#moshi-가-gson-보다-더-좋은-점>Moshi 가 Gson 보다 더 좋은 점</a></li></ul></li><li><a href=#kotlinxserialization-의-대표적인-특징>kotlinx.serialization 의 대표적인 특징</a><ul><li><a href=#kotlin-oriented>Kotlin-oriented</a></li><li><a href=#compile-time-safe>compile-time safe</a></li><li><a href=#polymorphic-serialization>Polymorphic serialization</a></li></ul></li><li><a href=#결론>결론</a></li><li><a href=#reference>reference</a></li></ul></nav></div></details></div><div class=post-content><h1 id=개요>개요<a hidden class=anchor aria-hidden=true href=#개요>#</a></h1><ul><li><p>android application 에서는 주로 <code>retrofit2</code> 을 사용하여, <strong>json(JavaScript Object Notation)</strong> 을 주고 받으면서 서버와 통신한다.</p></li><li><p><strong>json 직렬화(Serialization)</strong> 란, 프로그래밍 언어에서 사용되는 데이터 구조를 json 형식으로 변환하는 과정</p></li><li><p><strong>역직렬화</strong> : 직렬화된 데이터를 다시 객체의 형태로 만드는 것</p></li><li><p><strong>retrofit</strong> 를 이용하여 서버와 통신할 때, converter를 지정해주면 retrofit이 자동으로 역/직렬화 를 수행해준다.</p></li><li><p>이때, 여러 converter, 역/직렬화 라이브러리 들이 있다.</p><ul><li>대표적으로 <code>Gson</code>, <code>Moshi</code>, <code>kotlinx.serialization</code> 이 존재한다.</li></ul></li><li><p>3가지 라이브러리들을 비교 해보고 <code>kotlinx.serialization</code>를 선택한 이유와 특징을 살펴본다.</p></li></ul><h1 id=gson-vs-moshi>Gson vs Moshi<a hidden class=anchor aria-hidden=true href=#gson-vs-moshi>#</a></h1><h2 id=gson>Gson<a hidden class=anchor aria-hidden=true href=#gson>#</a></h2><ul><li>Google에서 개발한 Java 기반의 오픈 소스 json 데이터 처리 라이브러리</li><li>Gson은 현재 maintenance mode로 새로운 기능을 개발하는 것이 아닌 bug fix와 같은 유지보수성 업데이트만 진행되고 있다.</li></ul><h2 id=moshi>Moshi<a hidden class=anchor aria-hidden=true href=#moshi>#</a></h2><ul><li>retrofit을 만든, <strong>Square</strong>사에서 개발한 json 직렬화 라이브러리로, java와 kotlin에서 JSON 데이터를 처리하는 데 사용된다.</li></ul><h2 id=moshi-가-gson-보다-더-좋은-점>Moshi 가 Gson 보다 더 좋은 점<a hidden class=anchor aria-hidden=true href=#moshi-가-gson-보다-더-좋은-점>#</a></h2><ul><li><p><strong>높은 성능과 속도</strong>: Moshi는 경량화, 최적화된 구조를 통해 높은 성능을 지원한다.</p></li><li><p><strong>Kotlin 호환성</strong>: Moshi는 Kotlin과의 높은 호환성을 가지고 있다. Kotlin의 Nullable 형식을 자동으로 처리하여, JSON 데이터를 다룰 수 있도록 지원한다.</p></li><li><p><strong>정적 타입 지원</strong>: Moshi는 코드 생성(codegen)을 통해 정적 타입 어노테이션을 지원합니다. 이를 활용하여 JSON 데이터의 파싱 과정에서 타입 안정성을 제공하고, 컴파일 시간에 발생할 수 있는 오류를 미리 방지할 수 있다.</p></li><li><p><strong>코드 자동 생성(codegen)</strong>: Moshi는 어노테이션 기반 코드 생성을 지원하여 JSON 데이터 처리를 런타임이 아닌 컴파일 시점에 처리할 수 있게 해준다.</p></li></ul><h1 id=kotlinxserialization-의-대표적인-특징>kotlinx.serialization 의 대표적인 특징<a hidden class=anchor aria-hidden=true href=#kotlinxserialization-의-대표적인-특징>#</a></h1><ul><li><p>kotlin 1.4 version 에서 나온 <code>JetBrain</code>이 개발한 역/직렬화 라이브러리</p></li><li><p>다른 컨버터 라이브러리와 다르게 <code>Reflection</code>을 사용하지 않고 개발한 라이브러리 <strong>(성능 이점)</strong></p></li></ul><h2 id=kotlin-oriented>Kotlin-oriented<a hidden class=anchor aria-hidden=true href=#kotlin-oriented>#</a></h2><ul><li>kotlin의 <code>default value</code> 기능을 사용할 수 있다.</li><li><strong>KMM, kotlin/js, kotlin/native</strong> 에서도 사용가능하다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@Serializable</span>
</span></span><span class=line><span class=cl><span class=k>data</span> <span class=k>class</span> <span class=nc>Project</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>name</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>language</span><span class=p>:</span> <span class=n>String</span> <span class=p>=</span> <span class=s2>&#34;Kotlin&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>이 문자열을 Gson 라이브러리로 파싱하면, name에는 정상적으로 값이 대입되지만 language 에는 <strong>null</strong>이 대입된다.
즉, <strong>non-null</strong>인 프로퍼티가 null 값을 가지게 될 뿐 아니라, language 프로퍼티의 기본값 조차 반영되지 않는 문제가 발생한다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>println</span><span class=p>(</span><span class=n>Gson</span><span class=p>().</span><span class=n>fromJson</span><span class=p>(</span><span class=n>inputString</span><span class=p>,</span> <span class=n>Project</span><span class=o>::</span><span class=k>class</span><span class=p>.</span><span class=n>java</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1>//Gson: Project(name=kotlinx.serialization, language=null) 
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>println</span><span class=p>(</span><span class=nc>Json</span><span class=p>.</span><span class=n>decodeFromString</span><span class=p>&lt;</span><span class=n>Project</span><span class=p>&gt;(</span><span class=n>inputString</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=c1>//kotlinx.serialization: Project(name=kotlinx.serialization, language=Kotlin)
</span></span></span></code></pre></td></tr></table></div></div><h2 id=compile-time-safe>compile-time safe<a hidden class=anchor aria-hidden=true href=#compile-time-safe>#</a></h2><ul><li>기본적으로 <code>@Serializable</code> 이 있는 클래스만 직렬화한다.<ul><li>직렬화를 수행할 수 없는 경우 <strong>런타임 에러</strong> 대신 <strong>컴파일 에러</strong>가 발생하므로 버그를 사전에 방지가 가능하다.</li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@Serializable</span>
</span></span><span class=line><span class=cl><span class=k>data</span> <span class=k>class</span> <span class=nc>Project</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>name</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>owner</span><span class=p>:</span> <span class=n>User</span><span class=p>,</span> <span class=c1>// 컴파일 에러 발생: Serializer for type User has not been found
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>val</span> <span class=py>language</span><span class=p>:</span> <span class=n>String</span> <span class=p>=</span> <span class=s2>&#34;Kotlin&#34;</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// @Serializable 어노테이션이 없으므로 직렬화를 지원하지 않습니다.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>data</span> <span class=k>class</span> <span class=nc>User</span><span class=p>(</span><span class=k>val</span> <span class=py>userName</span><span class=p>:</span> <span class=n>String</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>이 떄, 직렬화를 지원하지 않는 클래스인 User 클래스를 직렬화를 지원하는 Project 클래스의 프로퍼티로 넣으면 다음과 같이 <strong>컴파일 에러</strong>가 발생한다.</p><h2 id=polymorphic-serialization>Polymorphic serialization<a hidden class=anchor aria-hidden=true href=#polymorphic-serialization>#</a></h2><ul><li>상속 구조나 다형성을 파악해 직렬화를 해준다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@Serializable</span>
</span></span><span class=line><span class=cl><span class=k>sealed</span> <span class=k>class</span> <span class=nc>Project</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>abstract</span> <span class=k>val</span> <span class=py>name</span><span class=p>:</span> <span class=n>String</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>status</span> <span class=p>=</span> <span class=s2>&#34;open&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Serializable</span>
</span></span><span class=line><span class=cl><span class=nd>@SerialName</span><span class=p>(</span><span class=s2>&#34;owned&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OwnedProject</span><span class=p>(</span><span class=k>override</span> <span class=k>val</span> <span class=py>name</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span> <span class=k>val</span> <span class=py>owner</span><span class=p>:</span> <span class=n>String</span><span class=p>)</span> <span class=p>:</span> <span class=n>Project</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>fun</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>val</span> <span class=py>json</span> <span class=p>=</span> <span class=n>Json</span> <span class=p>{</span> <span class=n>encodeDefaults</span> <span class=p>=</span> <span class=k>true</span> <span class=p>}</span> <span class=c1>// &#34;status&#34; will be skipped otherwise
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>val</span> <span class=py>data</span><span class=p>:</span> <span class=n>Project</span> <span class=p>=</span> <span class=n>OwnedProject</span><span class=p>(</span><span class=s2>&#34;kotlinx.coroutines&#34;</span><span class=p>,</span> <span class=s2>&#34;kotlin&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>println</span><span class=p>(</span><span class=n>json</span><span class=p>.</span><span class=n>encodeToString</span><span class=p>(</span><span class=k>data</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// {&#34;type&#34;:&#34;owned&#34;,&#34;status&#34;:&#34;open&#34;,&#34;name&#34;:&#34;kotlinx.coroutines&#34;,&#34;owner&#34;:&#34;kotlin&#34;}
</span></span></span></code></pre></td></tr></table></div></div><h1 id=결론>결론<a hidden class=anchor aria-hidden=true href=#결론>#</a></h1><p>Moshi이 Gson에 비해 장점도 있지만, 서술한 <code>kotlinx.serialization</code> 의 <strong>대표적인 특징</strong> 때문에,
<strong>retrofit의 역/직렬화 converter 라이브러리</strong>는 <code>kotlinx.serialization</code> 으로 선택하였다.</p><h1 id=reference>reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><a href="https://www.youtube.com/watch?v=Azi57n59ICM">https://www.youtube.com/watch?v=Azi57n59ICM</a></li><li><a href=https://proandroiddev.com/goodbye-gson-hello-moshi-4e591116231e>https://proandroiddev.com/goodbye-gson-hello-moshi-4e591116231e</a></li><li><a href=https://blog.imqa.io/json-moshi/>https://blog.imqa.io/json-moshi/</a></li><li><a href=https://www.androidhuman.com/2020-11-08-kotlin_1_4_serialization>https://www.androidhuman.com/2020-11-08-kotlin_1_4_serialization</a></li><li><a href=https://github.com/Kotlin/kotlinx.serialization>https://github.com/Kotlin/kotlinx.serialization</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://2taezeat.github.io/tags/android/>Android</a></li></ul><nav class=paginav><a class=prev href=https://2taezeat.github.io/posts/2023/android-%EA%B0%9C%EB%B0%9C%EC%8B%9C-timber%EC%9D%84-%EC%A0%81%EC%9A%A9%ED%95%9C-%EC%9D%B4%EC%9C%A0/><span class=title>« Prev</span><br><span>Android 개발시 Timber을 적용한 이유</span>
</a><a class=next href=https://2taezeat.github.io/posts/2023/navigation%EA%B3%BC-fragment-%EC%83%9D%EB%AA%85%EC%A3%BC%EA%B8%B0/><span class=title>Next »</span><br><span>Navigation과 Fragment 생명주기</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Android 개발에서 쓰이는, 직렬화 기술 비교 on x" href="https://x.com/intent/tweet/?text=Android%20%ea%b0%9c%eb%b0%9c%ec%97%90%ec%84%9c%20%ec%93%b0%ec%9d%b4%eb%8a%94%2c%20%ec%a7%81%eb%a0%ac%ed%99%94%20%ea%b8%b0%ec%88%a0%20%eb%b9%84%ea%b5%90&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f&amp;hashtags=Android"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android 개발에서 쓰이는, 직렬화 기술 비교 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f&amp;title=Android%20%ea%b0%9c%eb%b0%9c%ec%97%90%ec%84%9c%20%ec%93%b0%ec%9d%b4%eb%8a%94%2c%20%ec%a7%81%eb%a0%ac%ed%99%94%20%ea%b8%b0%ec%88%a0%20%eb%b9%84%ea%b5%90&amp;summary=Android%20%ea%b0%9c%eb%b0%9c%ec%97%90%ec%84%9c%20%ec%93%b0%ec%9d%b4%eb%8a%94%2c%20%ec%a7%81%eb%a0%ac%ed%99%94%20%ea%b8%b0%ec%88%a0%20%eb%b9%84%ea%b5%90&amp;source=https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android 개발에서 쓰이는, 직렬화 기술 비교 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f&title=Android%20%ea%b0%9c%eb%b0%9c%ec%97%90%ec%84%9c%20%ec%93%b0%ec%9d%b4%eb%8a%94%2c%20%ec%a7%81%eb%a0%ac%ed%99%94%20%ea%b8%b0%ec%88%a0%20%eb%b9%84%ea%b5%90"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android 개발에서 쓰이는, 직렬화 기술 비교 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android 개발에서 쓰이는, 직렬화 기술 비교 on whatsapp" href="https://api.whatsapp.com/send?text=Android%20%ea%b0%9c%eb%b0%9c%ec%97%90%ec%84%9c%20%ec%93%b0%ec%9d%b4%eb%8a%94%2c%20%ec%a7%81%eb%a0%ac%ed%99%94%20%ea%b8%b0%ec%88%a0%20%eb%b9%84%ea%b5%90%20-%20https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android 개발에서 쓰이는, 직렬화 기술 비교 on telegram" href="https://telegram.me/share/url?text=Android%20%ea%b0%9c%eb%b0%9c%ec%97%90%ec%84%9c%20%ec%93%b0%ec%9d%b4%eb%8a%94%2c%20%ec%a7%81%eb%a0%ac%ed%99%94%20%ea%b8%b0%ec%88%a0%20%eb%b9%84%ea%b5%90&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android 개발에서 쓰이는, 직렬화 기술 비교 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Android%20%ea%b0%9c%eb%b0%9c%ec%97%90%ec%84%9c%20%ec%93%b0%ec%9d%b4%eb%8a%94%2c%20%ec%a7%81%eb%a0%ac%ed%99%94%20%ea%b8%b0%ec%88%a0%20%eb%b9%84%ea%b5%90&u=https%3a%2f%2f2taezeat.github.io%2fposts%2f2023%2fandroid-%25EA%25B0%259C%25EB%25B0%259C%25EC%2597%2590%25EC%2584%259C-%25EC%2593%25B0%25EC%259D%25B4%25EB%258A%2594-%25EC%25A7%2581%25EB%25A0%25AC%25ED%2599%2594-%25EA%25B8%25B0%25EC%2588%25A0-%25EB%25B9%2584%25EA%25B5%2590%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=2taezeat/blog_comment issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://2taezeat.github.io/>2taezeat, blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>