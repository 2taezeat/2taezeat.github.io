<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Android Network 기초 | 2taezeat, blog</title>
<meta name=keywords content="Android"><meta name=description content="Android Network 기초"><meta name=author content="2taezeat"><link rel=canonical href=https://2taezeat.github.io/posts/android/android-network/><meta name=google-site-verification content="YaEERzgrvu-ZwPg7gswZdTzRMufkHw3uIH7i8hVal1c"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.d44c8cf03b39ddb7ef7f559438bd6b8212b06f1df879209d09318541b981719a.css integrity="sha256-1EyM8Ds53bfvf1WUOL1rghKwbx34eSCdCTGFQbmBcZo=" rel="preload stylesheet" as=style><link rel=icon href=https://2taezeat.github.io/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://2taezeat.github.io/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://2taezeat.github.io/icon/favicon-32x32.png><link rel=apple-touch-icon href=https://2taezeat.github.io/icon/apple-touch-icon.png><link rel=mask-icon href=https://2taezeat.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://2taezeat.github.io/posts/android/android-network/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="Android Network 기초"><meta property="og:description" content="Android Network 기초"><meta property="og:type" content="article"><meta property="og:url" content="https://2taezeat.github.io/posts/android/android-network/"><meta property="og:image" content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-07T11:30:03+00:00"><meta property="article:modified_time" content="2023-11-07T11:30:03+00:00"><meta property="og:site_name" content="2taezeat, blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Android Network 기초"><meta name=twitter:description content="Android Network 기초"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://2taezeat.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Android Network 기초","item":"https://2taezeat.github.io/posts/android/android-network/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Android Network 기초","name":"Android Network 기초","description":"Android Network 기초","keywords":["Android"],"articleBody":"Android Retrofit 설명 Retrofit은 Square에서 개발한 안드로이드 및 JVM 환경에서 사용되는 타입-세이프(type-safe) HTTP 클라이언트 라이브러리입니다.\nREST API 기반의 네트워크 통신을 간편하고 효율적으로 처리할 수 있도록 도와줍니다.\nRetrofit의 주요 특징:\n타입 안정성: Retrofit은 인터페이스를 사용하여 API 엔드포인트를 정의하고, 어노테이션을 통해 HTTP 요청 메서드(GET, POST, PUT, DELETE 등)와 파라미터를 명시합니다. 이를 통해 컴파일 시점에 오류를 확인할 수 있어 안정적인 코드 작성이 가능합니다. 선언적인 API: Retrofit은 선언적인 방식으로 API 인터페이스를 정의하여 코드의 가독성을 높이고 유지보수를 용이하게 합니다. 비동기 처리: Retrofit은 기본적으로 OkHttp 라이브러리를 사용하여 네트워크 요청을 비동기적으로 처리합니다. 따라서 UI 스레드를 차단하지 않고 백그라운드 스레드에서 네트워크 작업 수행 확장성: Retrofit은 Converter, CallAdapter 등 다양한 확장 기능을 제공하여 JSON, XML 등 다양한 데이터 형식을 지원하고, RxJava, Coroutines 등 다양한 비동기 처리 방식을 사용할 수 있습니다. Retrofit 구성 요소 1. 인터페이스 (Interface):\nREST API의 엔드포인트를 정의합니다. 각 엔드포인트는 HTTP 메서드(GET, POST, PUT, DELETE 등)와 URL 경로, 파라미터 등을 포함합니다. Retrofit은 이 인터페이스를 기반으로 동적인 프록시 객체를 생성하여 실제 네트워크 요청을 처리합니다. 1 2 3 4 5 6 7 interface ApiService { @GET(\"users/{user}\") fun getUser(@Path(\"user\") user: String): Call\u003cUser\u003e @POST(\"users/new\") fun createUser(@Body user: User): Call\u003cUser\u003e } 2. 어노테이션 (Annotation):\n인터페이스의 메서드에 사용되어 HTTP 요청 정보를 명시합니다. @GET, @POST, @PUT, @DELETE, @PATCH, @HEAD 등의 HTTP 메서드 어노테이션을 사용하여 요청 방식을 지정합니다. @Path, @Query, @Body, @Header 등의 어노테이션을 사용하여 URL 경로, 쿼리 파라미터, 요청 본문, 헤더 등을 설정합니다. 1 2 @GET(\"users/{user}\") fun getUser(@Path(\"user\") user: String): Call\u003cUser\u003e 3. Retrofit 객체:\n인터페이스를 기반으로 동적인 프록시 객체를 생성합니다. Retrofit.Builder를 사용하여 Retrofit 객체를 생성하고, 베이스 URL, Converter, CallAdapter 등을 설정합니다. 1 2 3 4 val retrofit = Retrofit.Builder() .baseUrl(\"https://api.example.com/\") .addConverterFactory(GsonConverterFactory.create()) .build() 4. Call 객체:\n네트워크 요청(Request) 을 나타내는 객체입니다. enqueue() 메서드를 호출하여 비동기 요청을 보내고, execute() 메서드를 호출하여 동기 요청을 보냅니다. 콜백 메서드(onResponse, onFailure)를 통해 요청 결과를 처리합니다. 1 2 3 4 val call = apiService.getUser(\"JohnDoe\") call.enqueue(object : Callback\u003cUser\u003e { // ... }) 5. Converter:\n서버 응답 데이터(JSON)를 객체로 변환하는 역할을 합니다. Gson, Moshi, Jackson 등의 라이브러리를 Converter로 사용할 수 있습니다. Retrofit.Builder의 addConverterFactory() 메서드를 사용하여 Converter를 추가합니다. Android Retrofit 사용 시 주의 사항 1. 메인 스레드 네트워크 작업 금지:\nRetrofit은 기본적으로 OkHttp를 사용하여 네트워크 요청을 처리합니다. 안드로이드에서는 메인 스레드에서 네트워크 작업을 수행하면 NetworkOnMainThreadException 예외가 발생합니다. 따라서, Coroutine, RxJava, 또는 Executor 등을 사용하여 네트워크 요청을 백그라운드 스레드에서 처리해야 합니다. 2. 에러 핸들링:\n네트워크 요청은 항상 실패할 가능성이 있으므로, 예외 처리를 철저히 해야 합니다. Retrofit은 onFailure() 콜백 또는 RxJava의 onError() 메서드를 통해 에러를 처리할 수 있습니다. HTTP 상태 코드(404, 500 등)에 따른 적절한 에러 메시지를 사용자에게 표시해야 합니다. 3. 응답 데이터 처리:\n서버에서 받은 응답 데이터는 JSON, XML 등 다양한 형식일 수 있습니다. Retrofit은 Gson, Moshi, Jackson 등의 Converter를 사용하여 응답 데이터를 자바 객체로 변환할 수 있습니다. 데이터 변환 과정에서 발생할 수 있는 예외를 처리해야 합니다. Android Retrofit 에서 coroutine을 사용하면, 백그라운드 스레드에서 처리되는 이유 1. Main Thread 안전성 (Main Thread Safety):\n안드로이드는 UI 업데이트와 사용자 입력 처리를 담당하는 메인 스레드(Main Thread) 를 가지고 있습니다.\n메인 스레드에서 시간이 오래 걸리는 작업(예: 네트워크 요청)을 수행하면 UI가 멈추거나 응답하지 않는 현상이 발생할 수 있습니다.\n이를 ANR(Application Not Responding) 이라고 합니다. Coroutine은 suspend 함수를 통해 비동기 작업을 간편하게 처리할 수 있도록 도와주는 기능입니다.\nRetrofit과 Coroutine을 함께 사용하면 suspend 함수 내에서 네트워크 요청을 수행하고, 요청이 완료될 때까지 해당 Coroutine을 일시 중단(suspend)시킵니다.\n이때 Coroutine은 백그라운드 스레드로 전환되어 네트워크 요청을 처리 하고, 요청이 완료되면 다시 메인 스레드로 돌아와 결과를 처리 합니다.\n이러한 방식으로 메인 스레드를 차단하지 않고 네트워크 요청을 처리하여 UI의 반응성을 유지할 수 있습니다.\n2. Retrofit의 Main Safety 보장:\nRetrofit 2.6.0 버전부터는 Coroutine을 공식적으로 지원하며, suspend 함수를 사용하여 네트워크 요청을 수행할 수 있습니다. Retrofit은 내부적으로 OkHttp 라이브러리를 사용하여 네트워크 요청을 처리하는데, OkHttp는 기본적으로 백그라운드 스레드에서 네트워크 작업을 수행하도록 설계되어 있다. 따라서 Retrofit에서 Coroutine을 사용하더라도, 실제 네트워크 요청은 OkHttp에 의해 백그라운드 스레드에서 처리됩니다. 이는 Coroutine의 Main Safety 보장 기능과 함께 작동하여, 개발자가 명시적으로 백그라운드 스레드를 지정하지 않아도 안전하게 네트워크 요청을 처리할 수 있도록 합니다. Android OkHttp 설명 OkHttp는 Square에서 개발한 강력하고 효율적인 HTTP 클라이언트 라이브러리입니다. 안드로이드 뿐만 아니라 자바 및 코틀린 환경에서도 사용할 수 있습니다.\nOkHttp는 HTTP/2, WebSocket 등 최신 웹 기술을 지원하며, 안정성과 성능이 뛰어나다는 장점을 가지고 있습니다.\nOkHttp 주요 특징:\nHTTP/2 지원: HTTP/2 프로토콜을 지원하여 다중화, 헤더 압축, 서버 푸시 등의 기능을 활용하여 네트워크 성능을 향상시킵니다. 연결 풀링: 연결 풀링을 통해 여러 요청을 효율적으로 처리하고, 연결 재사용을 통해 성능을 최적화합니다. 투명한 GZIP 압축: 응답 데이터를 자동으로 압축하여 네트워크 대역폭을 절약합니다. 응답 캐싱: 응답 데이터를 캐싱하여 동일한 요청을 반복할 때 네트워크 트래픽을 줄이고 응답 시간을 단축합니다. 요청 재시도: 네트워크 오류 발생 시 자동으로 요청을 재시도하여 안정성을 높입니다. Interceptor 지원: Interceptor를 사용하여 요청 및 응답을 가로채서 로깅, 헤더 추가, 인증 등 다양한 작업을 수행할 수 있습니다. WebSocket 지원: WebSocket 프로토콜을 지원하여 실시간 양방향 통신을 구현할 수 있습니다. OkHttp와 Retrofit의 관계:\nRetrofit은 OkHttp의 기능을 활용하면서, 더욱 간편하고 직관적인 API를 제공하여 REST API 통신을 쉽게 구현할 수 있도록 도와줍니다.\nOkHttp: 저수준 HTTP 클라이언트, 강력하고 유연하지만 사용하기 복잡\nRetrofit: OkHttp 기반 고수준 라이브러리, 간편하고 직관적인 API, 선언적 방식, 비동기 처리 지원\nOkHttp 사용 방법:\nOkHttpClient 생성: OkHttpClient 객체를 생성하고 필요에 따라 설정을 변경합니다.\n1 2 3 4 5 val client = OkHttpClient.Builder() .addInterceptor(HttpLoggingInterceptor().apply { level = HttpLoggingInterceptor.Level.BODY }) .build() Request 생성: Request.Builder를 사용하여 요청 객체를 생성하고 URL, 헤더, 요청 본문 등을 설정합니다.\n요청 실행: OkHttpClient 객체의 newCall() 메서드를 사용하여 요청을 실행하고 enqueue() 메서드를 통해 비동기적으로 응답을 처리합니다.\n1 2 3 4 5 6 7 8 9 client.newCall(request).enqueue(object : Callback { override fun onFailure(call: Call, e: IOException) { // 요청 실패 처리 } override fun onResponse(call: Call, response: Response) { // 응답 성공 처리 val body = response.body?.string() } }) OkHttp Interceptor 설명 OkHttp Interceptor는 네트워크 요청 및 응답을 가로채서 추가 작업을 수행하거나 수정할 수 있는 강력한 기능입니다.\n로깅, 인증, 캐싱, 헤더 수정, 요청/응답 데이터 변환 등 다양한 목적으로 활용될 수 있습니다.\n1. Application Interceptor:\n역할: 애플리케이션 레벨에서 요청 및 응답을 가로챕니다. 실제 네트워크 연결이 이루어지기 전후에 동작하며, 캐시된 응답에도 적용됩니다.\n주요 용도:\n로깅 (Logging): 요청 및 응답 정보를 로그로 출력하여 디버깅을 돕습니다. 헤더 추가 (Header Modification): 모든 요청에 공통적으로 추가해야 하는 헤더(예: 인증 토큰, API 키)를 설정합니다. 인증 (Authentication): 요청에 인증 정보를 추가하거나, 응답을 기반으로 인증 토큰을 갱신합니다. 요청/응답 수정 (Request/Response Rewriting): 요청 URL, 파라미터, 응답 데이터 등을 수정합니다. OkHttpClient.Builder의 addInterceptor() 메서드를 사용하여 추가합니다.\n2. Network Interceptor:\n역할: 네트워크 레벨에서 요청 및 응답을 가로챕니다. 실제 네트워크 연결이 이루어질 때만 동작하며, 캐시된 응답에는 적용되지 않습니다. 주요 용도: 캐싱 (Caching): 응답 데이터를 캐시에 저장하거나 캐시된 응답을 반환하여 네트워크 트래픽을 줄입니다. 압축 (Compression): 요청 및 응답 데이터를 압축하여 네트워크 대역폭을 절약합니다. 요청 재시도 (Retry): 네트워크 오류 발생 시 자동으로 요청을 재시도합니다. 네트워크 연결 변경 (Connection Modification): 특정 조건에 따라 다른 네트워크 연결을 사용하도록 변경합니다. OkHttpClient.Builder의 addNetworkInterceptor() 메서드를 사용하여 추가합니다. Interceptor 사용 예시:\n1 2 3 4 5 6 val client = OkHttpClient.Builder() .addInterceptor(HttpLoggingInterceptor().apply { level = HttpLoggingInterceptor.Level.BODY }) .addNetworkInterceptor(StethoInterceptor()) .build() HttpLoggingInterceptor: 요청 및 응답 정보를 로그로 출력하는 Interceptor입니다. 디버깅에 유용합니다. 커스텀 Interceptor 생성:\n1 2 3 4 5 6 7 8 9 class AuthInterceptor(private val token: String) : Interceptor { override fun intercept(chain: Interceptor.Chain): Response { val originalRequest = chain.request() val newRequest = originalRequest.newBuilder() .header(\"Authorization\", \"Bearer $token\") .build() return chain.proceed(newRequest) } } 위 예시는 요청 헤더에 인증 토큰을 추가하는 커스텀 Interceptor를 보여줍니다.\nInterceptor 활용 팁:\n여러 Interceptor를 사용할 때는 순서가 중요합니다. 요청(Request)은 추가된 순서대로 Interceptor를 거치고, 응답(Reply)은 역순으로 Interceptor를 거칩니다. Interceptor는 강력한 기능을 제공하지만, 과도하게 사용하면 성능 저하를 일으킬 수 있습니다. Interceptor를 사용하여 민감한 정보(예: API 키, 개인 정보)를 로깅하지 않도록 주의해야 합니다. ","wordCount":"1196","inLanguage":"en","image":"https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-11-07T11:30:03Z","dateModified":"2023-11-07T11:30:03Z","author":{"@type":"Person","name":"2taezeat"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://2taezeat.github.io/posts/android/android-network/"},"publisher":{"@type":"Organization","name":"2taezeat, blog","logo":{"@type":"ImageObject","url":"https://2taezeat.github.io/icon/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://2taezeat.github.io/ accesskey=h title="2taezeat blog (Alt + H)"><img src=https://2taezeat.github.io/icon/apple-touch-icon.png alt aria-label=logo height=30>2taezeat blog</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://2taezeat.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://2taezeat.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://2taezeat.github.io/searchs/ title=Search><span>Search</span></a></li><li><a href=https://github.com/2taezeat title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://2taezeat.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://2taezeat.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Android Network 기초</h1><div class=post-description>Android Network 기초</div><div class=post-meta><span title='2023-11-07 11:30:03 +0000 +0000'>2023-11-07</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;1196 words&nbsp;·&nbsp;2taezeat</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#android-retrofit-설명>Android Retrofit 설명</a><ul><li><a href=#retrofit-구성-요소>Retrofit 구성 요소</a></li><li><a href=#android-retrofit-사용-시-주의-사항>Android Retrofit 사용 시 주의 사항</a></li><li><a href=#android-retrofit-에서-coroutine을-사용하면-백그라운드-스레드에서-처리되는-이유>Android Retrofit 에서 coroutine을 사용하면, 백그라운드 스레드에서 처리되는 이유</a></li></ul></li><li><a href=#android-okhttp-설명>Android OkHttp 설명</a><ul><li><a href=#okhttp-interceptor-설명>OkHttp Interceptor 설명</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=android-retrofit-설명>Android Retrofit 설명<a hidden class=anchor aria-hidden=true href=#android-retrofit-설명>#</a></h1><p>Retrofit은 Square에서 개발한 안드로이드 및 JVM 환경에서 사용되는 <strong>타입-세이프(type-safe) HTTP 클라이언트 라이브러리</strong>입니다.</p><p>REST API 기반의 네트워크 통신을 간편하고 효율적으로 처리할 수 있도록 도와줍니다.</p><p><strong>Retrofit의 주요 특징:</strong></p><ol><li><strong>타입 안정성:</strong> Retrofit은 인터페이스를 사용하여 API 엔드포인트를 정의하고, 어노테이션을 통해 HTTP 요청 메서드(GET, POST, PUT, DELETE 등)와 파라미터를 명시합니다.<ul><li>이를 통해 컴파일 시점에 오류를 확인할 수 있어 안정적인 코드 작성이 가능합니다.</li></ul></li><li><strong>선언적인 API:</strong> Retrofit은 선언적인 방식으로 API 인터페이스를 정의하여 코드의 <strong>가독성을 높이고 유지보수를 용이</strong>하게 합니다.</li><li><strong>비동기 처리:</strong> Retrofit은 기본적으로 <code>OkHttp 라이브러리</code>를 사용하여 네트워크 요청을 <strong>비동기적으로 처리</strong>합니다.<ul><li>따라서 <strong>UI 스레드를 차단하지 않고</strong> 백그라운드 스레드에서 네트워크 작업 수행</li></ul></li><li><strong>확장성:</strong> Retrofit은 Converter, CallAdapter 등 다양한 확장 기능을 제공하여 JSON, XML 등 다양한 데이터 형식을 지원하고, RxJava, Coroutines 등 다양한 비동기 처리 방식을 사용할 수 있습니다.</li></ol><h2 id=retrofit-구성-요소>Retrofit 구성 요소<a hidden class=anchor aria-hidden=true href=#retrofit-구성-요소>#</a></h2><p><strong>1. 인터페이스 (Interface):</strong></p><ul><li>REST API의 <strong>엔드포인트를 정의</strong>합니다.</li><li>각 엔드포인트는 <strong>HTTP 메서드(GET, POST, PUT, DELETE 등)와 URL 경로, 파라미터 등을 포함</strong>합니다.</li><li>Retrofit은 이 인터페이스를 기반으로 <strong>동적인 프록시 객체를 생성</strong>하여 실제 네트워크 요청을 처리합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>interface</span> <span class=nc>ApiService</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GET</span><span class=p>(</span><span class=s2>&#34;users/{user}&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>getUser</span><span class=p>(</span><span class=nd>@Path</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>)</span> <span class=n>user</span><span class=p>:</span> <span class=n>String</span><span class=p>):</span> <span class=n>Call</span><span class=p>&lt;</span><span class=n>User</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@POST</span><span class=p>(</span><span class=s2>&#34;users/new&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>fun</span> <span class=nf>createUser</span><span class=p>(</span><span class=nd>@Body</span> <span class=n>user</span><span class=p>:</span> <span class=n>User</span><span class=p>):</span> <span class=n>Call</span><span class=p>&lt;</span><span class=n>User</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>2. 어노테이션 (Annotation):</strong></p><ul><li>인터페이스의 메서드에 사용되어 <strong>HTTP 요청 정보를 명시</strong>합니다.</li><li><code>@GET</code>, <code>@POST</code>, <code>@PUT</code>, <code>@DELETE</code>, <code>@PATCH</code>, <code>@HEAD</code> 등의 HTTP 메서드 어노테이션을 사용하여 요청 방식을 지정합니다.</li><li><code>@Path</code>, <code>@Query</code>, <code>@Body</code>, <code>@Header</code> 등의 <strong>어노테이션을 사용하여 URL 경로, 쿼리 파라미터, 요청 본문, 헤더</strong> 등을 설정합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=nd>@GET</span><span class=p>(</span><span class=s2>&#34;users/{user}&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>fun</span> <span class=nf>getUser</span><span class=p>(</span><span class=nd>@Path</span><span class=p>(</span><span class=s2>&#34;user&#34;</span><span class=p>)</span> <span class=n>user</span><span class=p>:</span> <span class=n>String</span><span class=p>):</span> <span class=n>Call</span><span class=p>&lt;</span><span class=n>User</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>3. Retrofit 객체:</strong></p><ul><li>인터페이스를 기반으로 <strong>동적인 프록시 객체</strong>를 생성합니다.</li><li><code>Retrofit.Builder</code>를 사용하여 Retrofit 객체를 생성하고, <strong>베이스 URL, Converter, CallAdapter 등</strong>을 설정합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>val</span> <span class=py>retrofit</span> <span class=p>=</span> <span class=nc>Retrofit</span><span class=p>.</span><span class=n>Builder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>baseUrl</span><span class=p>(</span><span class=s2>&#34;https://api.example.com/&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>addConverterFactory</span><span class=p>(</span><span class=nc>GsonConverterFactory</span><span class=p>.</span><span class=n>create</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>build</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>4. Call 객체:</strong></p><ul><li><strong>네트워크 요청(Request)</strong> 을 나타내는 객체입니다.</li><li><code>enqueue()</code> 메서드를 호출하여 비동기 요청을 보내고,</li><li><code>execute()</code> 메서드를 호출하여 동기 요청을 보냅니다.</li><li>콜백 메서드(<code>onResponse</code>, <code>onFailure</code>)를 통해 요청 결과를 처리합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>val</span> <span class=py>call</span> <span class=p>=</span> <span class=n>apiService</span><span class=p>.</span><span class=n>getUser</span><span class=p>(</span><span class=s2>&#34;JohnDoe&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>call</span><span class=p>.</span><span class=n>enqueue</span><span class=p>(</span><span class=k>object</span> <span class=err>: </span><span class=nc>Callback</span><span class=p>&lt;</span><span class=n>User</span><span class=p>&gt;</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>5. Converter:</strong></p><ul><li>서버 응답 데이터(JSON)를 객체로 변환하는 역할을 합니다.</li><li>Gson, Moshi, Jackson 등의 라이브러리를 Converter로 사용할 수 있습니다.</li><li><code>Retrofit.Builder</code>의 <code>addConverterFactory()</code> 메서드를 사용하여 Converter를 추가합니다.</li></ul><h2 id=android-retrofit-사용-시-주의-사항>Android Retrofit 사용 시 주의 사항<a hidden class=anchor aria-hidden=true href=#android-retrofit-사용-시-주의-사항>#</a></h2><p><strong>1. 메인 스레드 네트워크 작업 금지:</strong></p><ul><li>Retrofit은 기본적으로 OkHttp를 사용하여 네트워크 요청을 처리합니다.</li><li>안드로이드에서는 메인 스레드에서 네트워크 작업을 수행하면 <code>NetworkOnMainThreadException</code> 예외가 발생합니다.</li><li>따라서, Coroutine, RxJava, 또는 Executor 등을 사용하여 <strong>네트워크 요청을 백그라운드 스레드에서 처리</strong>해야 합니다.</li></ul><p><strong>2. 에러 핸들링:</strong></p><ul><li>네트워크 요청은 항상 실패할 가능성이 있으므로, 예외 처리를 철저히 해야 합니다.</li><li>Retrofit은 <code>onFailure()</code> 콜백 또는 RxJava의 <code>onError()</code> 메서드를 통해 에러를 처리할 수 있습니다.</li><li>HTTP 상태 코드(404, 500 등)에 따른 <strong>적절한 에러 메시지를 사용자에게 표시</strong>해야 합니다.</li></ul><p><strong>3. 응답 데이터 처리:</strong></p><ul><li>서버에서 받은 응답 데이터는 JSON, XML 등 다양한 형식일 수 있습니다.</li><li>Retrofit은 Gson, Moshi, Jackson 등의 Converter를 사용하여 응답 데이터를 자바 객체로 변환할 수 있습니다.</li><li>데이터 변환 과정에서 발생할 수 있는 예외를 처리해야 합니다.</li></ul><h2 id=android-retrofit-에서-coroutine을-사용하면-백그라운드-스레드에서-처리되는-이유>Android Retrofit 에서 coroutine을 사용하면, 백그라운드 스레드에서 처리되는 이유<a hidden class=anchor aria-hidden=true href=#android-retrofit-에서-coroutine을-사용하면-백그라운드-스레드에서-처리되는-이유>#</a></h2><p><strong>1. Main Thread 안전성 (Main Thread Safety):</strong></p><ul><li><p>안드로이드는 <strong>UI 업데이트와 사용자 입력 처리를 담당하는 메인 스레드(Main Thread)</strong> 를 가지고 있습니다.</p></li><li><p>메인 스레드에서 시간이 오래 걸리는 작업(예: 네트워크 요청)을 수행하면 UI가 멈추거나 응답하지 않는 현상이 발생할 수 있습니다.</p><ul><li>이를 <strong>ANR(Application Not Responding)</strong> 이라고 합니다.</li></ul></li><li><p>Coroutine은 <code>suspend</code> 함수를 통해 <strong>비동기 작업을 간편하게 처리</strong>할 수 있도록 도와주는 기능입니다.</p></li><li><p>Retrofit과 Coroutine을 함께 사용하면 <code>suspend</code> 함수 내에서 네트워크 요청을 수행하고, <strong>요청이 완료될 때까지 해당 Coroutine을 일시 중단(suspend)시킵니다.</strong></p></li><li><p>이때 <strong>Coroutine은 백그라운드 스레드로 전환되어 네트워크 요청을 처리</strong> 하고, <strong>요청이 완료되면 다시 메인 스레드로 돌아와 결과를 처리</strong> 합니다.</p></li><li><p>이러한 방식으로 <strong>메인 스레드를 차단하지 않고 네트워크 요청을 처리하여 UI의 반응성을 유지</strong>할 수 있습니다.</p></li></ul><p><strong>2. Retrofit의 Main Safety 보장:</strong></p><ul><li>Retrofit 2.6.0 버전부터는 <strong>Coroutine을 공식적으로 지원</strong>하며, <code>suspend</code> 함수를 사용하여 네트워크 요청을 수행할 수 있습니다.</li><li>Retrofit은 내부적으로 OkHttp 라이브러리를 사용하여 네트워크 요청을 처리하는데, <strong>OkHttp는 기본적으로 백그라운드 스레드에서 네트워크 작업을 수행하도록 설계</strong>되어 있다.</li><li>따라서 Retrofit에서 Coroutine을 사용하더라도, <strong>실제 네트워크 요청은 OkHttp에 의해 백그라운드 스레드</strong>에서 처리됩니다.</li><li>이는 Coroutine의 Main Safety 보장 기능과 함께 작동하여, <strong>개발자가 명시적으로 백그라운드 스레드를 지정하지 않아도 안전하게 네트워크 요청을 처리</strong>할 수 있도록 합니다.</li></ul><h1 id=android-okhttp-설명>Android OkHttp 설명<a hidden class=anchor aria-hidden=true href=#android-okhttp-설명>#</a></h1><p>OkHttp는 Square에서 개발한 강력하고 효율적인 HTTP 클라이언트 라이브러리입니다. 안드로이드 뿐만 아니라 자바 및 코틀린 환경에서도 사용할 수 있습니다.</p><p>OkHttp는 HTTP/2, WebSocket 등 최신 웹 기술을 지원하며, 안정성과 성능이 뛰어나다는 장점을 가지고 있습니다.</p><p><strong>OkHttp 주요 특징:</strong></p><ul><li><strong>HTTP/2 지원:</strong> HTTP/2 프로토콜을 지원하여 다중화, 헤더 압축, 서버 푸시 등의 기능을 활용하여 네트워크 성능을 향상시킵니다.</li><li><strong>연결 풀링:</strong> 연결 풀링을 통해 여러 요청을 효율적으로 처리하고, 연결 재사용을 통해 성능을 최적화합니다.</li><li><strong>투명한 GZIP 압축:</strong> 응답 데이터를 자동으로 압축하여 네트워크 대역폭을 절약합니다.</li><li><strong>응답 캐싱:</strong> 응답 데이터를 캐싱하여 동일한 요청을 반복할 때 네트워크 트래픽을 줄이고 응답 시간을 단축합니다.</li><li><strong>요청 재시도:</strong> 네트워크 오류 발생 시 자동으로 요청을 재시도하여 안정성을 높입니다.</li><li><strong>Interceptor 지원:</strong> Interceptor를 사용하여 요청 및 응답을 가로채서 로깅, 헤더 추가, 인증 등 다양한 작업을 수행할 수 있습니다.</li><li><strong>WebSocket 지원:</strong> WebSocket 프로토콜을 지원하여 실시간 양방향 통신을 구현할 수 있습니다.</li></ul><p><strong>OkHttp와 Retrofit의 관계:</strong></p><p>Retrofit은 OkHttp의 기능을 활용하면서, 더욱 간편하고 직관적인 API를 제공하여 REST API 통신을 쉽게 구현할 수 있도록 도와줍니다.</p><ul><li><p>OkHttp: <strong>저수준 HTTP 클라이언트</strong>, 강력하고 유연하지만 사용하기 복잡</p></li><li><p>Retrofit: <strong>OkHttp 기반 고수준 라이브러리</strong>, 간편하고 직관적인 API, 선언적 방식, 비동기 처리 지원</p></li></ul><p><strong>OkHttp 사용 방법:</strong></p><ol><li><p><strong>OkHttpClient 생성:</strong> <code>OkHttpClient</code> 객체를 생성하고 필요에 따라 설정을 변경합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>val</span> <span class=py>client</span> <span class=p>=</span> <span class=nc>OkHttpClient</span><span class=p>.</span><span class=n>Builder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>addInterceptor</span><span class=p>(</span><span class=n>HttpLoggingInterceptor</span><span class=p>().</span><span class=n>apply</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>level</span> <span class=p>=</span> <span class=nc>HttpLoggingInterceptor</span><span class=p>.</span><span class=nc>Level</span><span class=p>.</span><span class=n>BODY</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>build</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><strong>Request 생성:</strong> <code>Request.Builder</code>를 사용하여 요청 객체를 생성하고 URL, 헤더, 요청 본문 등을 설정합니다.</p></li><li><p><strong>요청 실행:</strong> <code>OkHttpClient</code> 객체의 <code>newCall()</code> 메서드를 사용하여 요청을 실행하고 <code>enqueue()</code> 메서드를 통해 비동기적으로 응답을 처리합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=n>client</span><span class=p>.</span><span class=n>newCall</span><span class=p>(</span><span class=n>request</span><span class=p>).</span><span class=n>enqueue</span><span class=p>(</span><span class=k>object</span> <span class=err>: </span><span class=nc>Callback</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>override</span> <span class=k>fun</span> <span class=nf>onFailure</span><span class=p>(</span><span class=n>call</span><span class=p>:</span> <span class=n>Call</span><span class=p>,</span> <span class=n>e</span><span class=p>:</span> <span class=n>IOException</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 요청 실패 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>override</span> <span class=k>fun</span> <span class=nf>onResponse</span><span class=p>(</span><span class=n>call</span><span class=p>:</span> <span class=n>Call</span><span class=p>,</span> <span class=n>response</span><span class=p>:</span> <span class=n>Response</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 응답 성공 처리
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>val</span> <span class=py>body</span> <span class=p>=</span> <span class=n>response</span><span class=p>.</span><span class=n>body</span><span class=o>?.</span><span class=n>string</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h2 id=okhttp-interceptor-설명>OkHttp Interceptor 설명<a hidden class=anchor aria-hidden=true href=#okhttp-interceptor-설명>#</a></h2><p><strong>OkHttp Interceptor는 네트워크 요청 및 응답을 가로채서 추가 작업을 수행하거나 수정할 수 있는 강력한 기능입니다.</strong></p><p>로깅, 인증, 캐싱, 헤더 수정, 요청/응답 데이터 변환 등 다양한 목적으로 활용될 수 있습니다.</p><p><strong>1. Application Interceptor:</strong></p><ul><li><p><strong>역할:</strong> <strong>애플리케이션 레벨</strong>에서 요청 및 응답을 가로챕니다. <strong>실제 네트워크 연결이 이루어지기 전후에 동작하며</strong>, <strong>캐시된 응답에도 적용됩니다.</strong></p></li><li><p>주요 용도:</p><ul><li><strong>로깅 (Logging):</strong> 요청 및 응답 정보를 로그로 출력하여 디버깅을 돕습니다.</li><li><strong>헤더 추가 (Header Modification):</strong> 모든 요청에 공통적으로 추가해야 하는 헤더(예: 인증 토큰, API 키)를 설정합니다.</li><li><strong>인증 (Authentication):</strong> 요청에 인증 정보를 추가하거나, 응답을 기반으로 인증 토큰을 갱신합니다.</li><li><strong>요청/응답 수정 (Request/Response Rewriting):</strong> 요청 URL, 파라미터, 응답 데이터 등을 수정합니다.</li></ul></li><li><p><code>OkHttpClient.Builder</code>의 <code>addInterceptor()</code> 메서드를 사용하여 추가합니다.</p></li></ul><p><strong>2. Network Interceptor:</strong></p><ul><li><strong>역할:</strong> <strong>네트워크 레벨</strong>에서 요청 및 응답을 가로챕니다. <strong>실제 네트워크 연결이 이루어질 때만 동작하며</strong>, <strong>캐시된 응답에는 적용되지 않습니다.</strong></li><li>주요 용도:<ul><li><strong>캐싱 (Caching):</strong> 응답 데이터를 캐시에 저장하거나 캐시된 응답을 반환하여 네트워크 트래픽을 줄입니다.</li><li><strong>압축 (Compression):</strong> 요청 및 응답 데이터를 압축하여 네트워크 대역폭을 절약합니다.</li><li><strong>요청 재시도 (Retry):</strong> 네트워크 오류 발생 시 자동으로 요청을 재시도합니다.</li><li><strong>네트워크 연결 변경 (Connection Modification):</strong> 특정 조건에 따라 다른 네트워크 연결을 사용하도록 변경합니다.</li></ul></li><li><code>OkHttpClient.Builder</code>의 <code>addNetworkInterceptor()</code> 메서드를 사용하여 추가합니다.</li></ul><p><strong>Interceptor 사용 예시:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>val</span> <span class=py>client</span> <span class=p>=</span> <span class=nc>OkHttpClient</span><span class=p>.</span><span class=n>Builder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>addInterceptor</span><span class=p>(</span><span class=n>HttpLoggingInterceptor</span><span class=p>().</span><span class=n>apply</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>level</span> <span class=p>=</span> <span class=nc>HttpLoggingInterceptor</span><span class=p>.</span><span class=nc>Level</span><span class=p>.</span><span class=n>BODY</span>
</span></span><span class=line><span class=cl>    <span class=p>})</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>addNetworkInterceptor</span><span class=p>(</span><span class=n>StethoInterceptor</span><span class=p>())</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=n>build</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>HttpLoggingInterceptor:</strong> 요청 및 응답 정보를 로그로 출력하는 Interceptor입니다. 디버깅에 유용합니다.</li></ul><p><strong>커스텀 Interceptor 생성:</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>class</span> <span class=nc>AuthInterceptor</span><span class=p>(</span><span class=k>private</span> <span class=k>val</span> <span class=py>token</span><span class=p>:</span> <span class=n>String</span><span class=p>)</span> <span class=p>:</span> <span class=n>Interceptor</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>override</span> <span class=k>fun</span> <span class=nf>intercept</span><span class=p>(</span><span class=n>chain</span><span class=p>:</span> <span class=nc>Interceptor</span><span class=p>.</span><span class=n>Chain</span><span class=p>):</span> <span class=n>Response</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>val</span> <span class=py>originalRequest</span> <span class=p>=</span> <span class=n>chain</span><span class=p>.</span><span class=n>request</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>val</span> <span class=py>newRequest</span> <span class=p>=</span> <span class=n>originalRequest</span><span class=p>.</span><span class=n>newBuilder</span><span class=p>()</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>header</span><span class=p>(</span><span class=s2>&#34;Authorization&#34;</span><span class=p>,</span> <span class=s2>&#34;Bearer </span><span class=si>$token</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=p>.</span><span class=n>build</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>chain</span><span class=p>.</span><span class=n>proceed</span><span class=p>(</span><span class=n>newRequest</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>위 예시는 요청 헤더에 인증 토큰을 추가하는 커스텀 Interceptor를 보여줍니다.</p><p><strong>Interceptor 활용 팁:</strong></p><ul><li>여러 Interceptor를 사용할 때는 순서가 중요합니다. <strong>요청(Request)은 추가된 순서대로 Interceptor를 거치고</strong>, <strong>응답(Reply)은 역순으로 Interceptor를 거칩</strong>니다.</li><li>Interceptor는 강력한 기능을 제공하지만, <strong>과도하게 사용하면 성능 저하</strong>를 일으킬 수 있습니다.</li><li>Interceptor를 사용하여 <strong>민감한 정보(예: API 키, 개인 정보)를 로깅하지 않도록 주의</strong>해야 합니다.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://2taezeat.github.io/tags/android/>Android</a></li></ul><nav class=paginav><a class=prev href=https://2taezeat.github.io/posts/android/android-testing-%EC%A0%95%EB%A6%AC/><span class=title>« Prev</span><br><span>Android Testing 기초</span>
</a><a class=next href=https://2taezeat.github.io/posts/android/android-hilt/><span class=title>Next »</span><br><span>Android Hilt 기초</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Android Network 기초 on x" href="https://x.com/intent/tweet/?text=Android%20Network%20%ea%b8%b0%ec%b4%88&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f&amp;hashtags=Android"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android Network 기초 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f&amp;title=Android%20Network%20%ea%b8%b0%ec%b4%88&amp;summary=Android%20Network%20%ea%b8%b0%ec%b4%88&amp;source=https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android Network 기초 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f&title=Android%20Network%20%ea%b8%b0%ec%b4%88"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android Network 기초 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android Network 기초 on whatsapp" href="https://api.whatsapp.com/send?text=Android%20Network%20%ea%b8%b0%ec%b4%88%20-%20https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android Network 기초 on telegram" href="https://telegram.me/share/url?text=Android%20Network%20%ea%b8%b0%ec%b4%88&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Android Network 기초 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Android%20Network%20%ea%b8%b0%ec%b4%88&u=https%3a%2f%2f2taezeat.github.io%2fposts%2fandroid%2fandroid-network%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=2taezeat/blog_comment issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://2taezeat.github.io/>2taezeat, blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>