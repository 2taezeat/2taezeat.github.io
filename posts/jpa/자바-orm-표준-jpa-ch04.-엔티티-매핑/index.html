<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[자바 ORM 표준 JPA] ch04. 엔티티 매핑 | 2taezeat, blog</title>
<meta name=keywords content="JPA,Backend"><meta name=description content="자바 ORM 표준 JPA 프로그래밍, ch04. 엔티티 매핑, 간단 정리"><meta name=author content="2taezeat"><link rel=canonical href=https://2taezeat.github.io/posts/jpa/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-ch04.-%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%ED%95%91/><meta name=google-site-verification content="YaEERzgrvu-ZwPg7gswZdTzRMufkHw3uIH7i8hVal1c"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.ac5f9f91bda1d016954cea3021c7b0474ce8732b88eebfb20282c242585dcd7c.css integrity="sha256-rF+fkb2h0BaVTOowIcewR0zocyuI7r+yAoLCQlhdzXw=" rel="preload stylesheet" as=style><link rel=icon href=https://2taezeat.github.io/icon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://2taezeat.github.io/icon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://2taezeat.github.io/icon/favicon-32x32.png><link rel=apple-touch-icon href=https://2taezeat.github.io/icon/apple-touch-icon.png><link rel=mask-icon href=https://2taezeat.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://2taezeat.github.io/posts/jpa/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-ch04.-%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%ED%95%91/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><meta property="og:title" content="[자바 ORM 표준 JPA] ch04. 엔티티 매핑"><meta property="og:description" content="자바 ORM 표준 JPA 프로그래밍, ch04. 엔티티 매핑, 간단 정리"><meta property="og:type" content="article"><meta property="og:url" content="https://2taezeat.github.io/posts/jpa/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-ch04.-%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%ED%95%91/"><meta property="og:image" content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-08-04T11:30:03+00:00"><meta property="article:modified_time" content="2024-08-04T11:30:03+00:00"><meta property="og:site_name" content="2taezeat, blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="[자바 ORM 표준 JPA] ch04. 엔티티 매핑"><meta name=twitter:description content="자바 ORM 표준 JPA 프로그래밍, ch04. 엔티티 매핑, 간단 정리"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://2taezeat.github.io/posts/"},{"@type":"ListItem","position":2,"name":"[자바 ORM 표준 JPA] ch04. 엔티티 매핑","item":"https://2taezeat.github.io/posts/jpa/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-ch04.-%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%ED%95%91/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[자바 ORM 표준 JPA] ch04. 엔티티 매핑","name":"[자바 ORM 표준 JPA] ch04. 엔티티 매핑","description":"자바 ORM 표준 JPA 프로그래밍, ch04. 엔티티 매핑, 간단 정리","keywords":["JPA","Backend"],"articleBody":"4.1 @Entity @Entity가 붙은 클래스는 JPA가 관리하는 것으로, 엔티티라 부른다.\n설정하지 않으면 클래스 이름을 그대로 사용한다.\n기본 생성자는 필수다 (파라미터가 없는 public 또는 protected 생성자).\nfinal, enum, interface, inner 클래스에는 사용할 수 없다.\n저장할 필드에 final을 사용하면 안 된다.\n4.2 @Table @Table은 엔티티와 매핑할 테이블을 지정한다. 4.3 다양한 매핑 사용 enum을 사용하려면 @Enumerated 어노테이션으로 매핑해야 한다. 날짜 타입은 @Temporal을 사용해서 매핑한다. @Lob을 사용하면 CLOB, BLOB 타입을 매핑할 수 있다. 4.4 데이터베이스 스키마 자동 생성 JPA는 데이터베이스 스키마를 자동으로 생성하는 기능을 지원한다.\n클래스의 매핑정보를 보면 어떤 테이블에 어떤 컬럼을 사용하는지 알 수 있다. JPA는 이 매핑정보와 데이터베이스 방언을 사용해서 데이터베이스 스키마를 생성한다.\n4.5 DDL 생성 기능 스키마 자동 생성하기를 통해 만들어지는 DDL에 제약조건을 추가\n유니크 제약조건\n이런 기능들은 단지 DDL을 자동 생성할 때만 사용되고 JPA의 실행 로직에는 영향을 주지 않는다.\n4.6 기본 키 매핑 [ JPA가 제공하는 데이터베이스 기본 키 생성 전략 ]\n직접 할당: 기본 키를 애플리케이션에서 직접 할당한다.\n자동 생성: 대리 키 사용 방식\nIDENTITY: 기본 키 생성을 데이터베이스에 위임한다.\nSEQUENCE: 데이터베이스 시퀀스를 사용해서 기본 키를 할당한다.\nTABLE: 키 생성 테이블을 사용한다.\n4.6.1 기본 키 직접 할당 전략 기본 키를 직접 할당하려면 다음 코드와 같이 @Id로 매핑하면 된다.\n기본 키 직접 할당 전략은 em.persist()로 엔티티를 저장하기 전에 애플리케이션에서 기본 키를 직접 할당하는 방법이다.\n4.6.2 자동 생성 전략, IDENTITY IDENTITY는 기본 키 생성을 데이터베이스에 위임하는 전략이다. 주로 MySQL, PostgreSQL, SQL Server, DB2에서 사용한다.\n@Generatedvalue의 strategy 속성 값을 GenerationType.IDENTITY로 지정하면 된다.\n4.6.3. 자동 생성 전략, SEQUENCE 데이터베이스 시퀀스는 유일한 값을 순서대로 생성하는 특별한 데이터베이스 오브젝트다. SEQUENCE 전략은 이 시퀀스를 사용해서 기본 키를 생성한다. 이 전략은 시퀀스를 지원하는 오라클, PostgreSQL, DB2, H2 데이터베이스에서 사용할수 있다. 4.6.4. 자동 생성 전략, TABLE TABLE 전략은 키 생성 전용 테이블을 하나 만들고 여기에 이름과 값으로 사용할 컬럼을 만들어 데이터베이스 시퀀스를 흉내내는 전략이다. 이 전략은 테이블을 사용하므로 모든 데이터베이스에 적용할 수 있다. TABLE 전략은 시퀀스 대신에 테이블을 사용한다는 것만 제외하면 SEQUENCE 전략과 내부 동작방식이 같다. 4.6.5. 자동 생성 전략, AUTO 데이터베이스의 종류도 많고 기본 키를 만드는 방법도 다양하다.\nGenerationType .AUTO 는 선택한 데이터베이스 방언에 따라 IDENTITY, SEQUENCE, TABLE 전략 중 하나를 자동으로 선택한다.\n예를 들어 오라클을 선택하면 SBQUENCE를, MySQL을 선택하면 IDENTITY를 사용한다.\nAUTO 전략의 장점은 데이터베이스를 변경해도 코드를 수정할 필요가 없다는 것이다. 특히 키 생성 전략이 아직 확정되지 않은 개발 초기 단계나 프로토타입 개발 시 편리하게 사용할 수 있다. AUTO를 사용할 때 SEQUENCEL TABLE 전략이 선택되면 시퀀스나 키 생성용 테이블을 미리 만들어 두어야 한다. 스키마 자동 생성 기능을 사용한다면, 하이버네이트가 기본값을 사용해서 적절한 시퀀스나 키 생성용 테이블을 만든다. 4.6.6 기본 키 매핑 정리 직접 할당: em.persist()를 호출하기 전에 애플리케이션에서 직접 식별자 값을 할당해야 한다.\n만약 식별자 값이 없으면 예외가 발생한다. IDENTITY: 데이터베이스에 엔티티를 저장해서 식별자 값을 획득한 후, 영속성 컨텍스트에 저장한다\nIDENTITY 전략은 테이블에 데이터를 저장해야 식별자 값을 획득할 수 있다. SEQUENCE: 데이터베이스 시퀀스에서 식별자 값을 획득한 후, 영속성 컨텍스트에 저장한다.\nTABLE: 데이터베이스 시퀀스 생성용 테이블에서 식별자 값을 획득한 후, 영속성 컨텍스트에 저장한다.\n[ 권장하는 식별자 선택 전략 ]\n데이터베이스 기본 키는 다음 3가지 조건을 모두 만족해야 한다.\nnull값은 허용하지 않는다.\n유일해야 한다.\n변해선 안 된다.\n테이블의 기본 키를 선택하는 전략은 크게 2가지가 있다.\n자연 키(natural key)\n비즈니스에 의미가 있는 키\n예: 주민등록번호, 이메일, 전화번호\n대리 키(surrogate key)\n비즈니스와 관련 없는 임의로 만들어진 키, 대체 키로도 불린다.\n예: 오라클 시퀀스, auto_increment, 키생성 테이블 사용\n자연 키보다는 대리 키를 권장\n비즈니스 환경은 언젠가 변하기 때문 JPA는 모든 엔티티에 일관된 방식으로 대리 키 사용을 권장한다\n기본 키는 변하면 안 된다는 기본 원칙으로 인해, 저장된 엔티티의 기본 키 값은 절대 변경하면 안 된다.\n이 경우 JPA는 예외를 발생시키거나 정상 동작하지 않는다. setd() 같이 식별자를 수정하는 메소드를 외부에 공개하지 않는 것도 문제를 예방하는 하나의 방법이 될 수 있다. 4.7 필드와 컬럼 매핑: 레퍼런스 4.8 기본 매핑 활용 (Kotlin) 요구 사항 분석 및 설계 Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 // build.gradle.kts에 아래 설정이 있다고 가정 // Kotlin으로 JPA을 쉽게 사용하기 위한 설정 plugins { kotlin(\"plugin.jpa\") version \"1.9.24\" } allOpen { annotation(\"jakarta.persistence.Entity\") annotation(\"jakarta.persistence.Embeddable\") annotation(\"jakarta.persistence.MappedSuperclass\") } noArg { annotation(\"jakarta.persistence.Entity\") } 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 package ~~~~~ import jakarta.persistence.* import java.util.Date @Entity class Member( name: String, street: String, zipcode: String ) { @Id @GeneratedValue @Column(name = \"MEMBER_ID\") var id: Long? = null protected set var name = name protected set var street = street protected set var zipcode = zipcode protected set } enum class OrderStatus { ORDER, CANCEL } @Entity @Table(name = \"ORDERS\") class Order( orderDate: Date, status: OrderStatus ) { @Id @GeneratedValue @Column(name = \"ORDER_ID\") var id: Long? = null protected set @Column(name = \"MEMBER_ID\") var memberId: Long? = null protected set @Temporal(TemporalType.TIMESTAMP) var orderDate: Date = orderDate protected set @Enumerated(EnumType.STRING) var status: OrderStatus = status protected set } @Entity class OrderItem( orderPrice: Int, count: Int ) { @Id @GeneratedValue @Column(name = \"ORDER_ITEM_ID\") var id: Long? = null protected set @Column(name = \"ITEM_ID\") var itemID: Long? = null protected set @Column(name = \"ORDER_ID\") var orderId: Long? = null protected set var orderPrice: Int = orderPrice protected set var count: Int = count protected set } @Entity class Item( name: String, price: Int, stockQuantity: Int ) { @Id @GeneratedValue @Column(name = \"ITEM_ID\") var id: Long? = null var name: String = name protected set var price: Int = price protected set var stockQuantity: Int = stockQuantity protected set } Reference 자바 ORM 표준 JPA 프로그래밍 (김영한) https://product.kyobobook.co.kr/detail/S000001766367\n코틀린 JPA Entity 작성법\n스포카에서 Kotlin으로 JPA Entity를 정의하는 방법\n","wordCount":"969","inLanguage":"en","image":"https://2taezeat.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-08-04T11:30:03Z","dateModified":"2024-08-04T11:30:03Z","author":{"@type":"Person","name":"2taezeat"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://2taezeat.github.io/posts/jpa/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-ch04.-%EC%97%94%ED%8B%B0%ED%8B%B0-%EB%A7%A4%ED%95%91/"},"publisher":{"@type":"Organization","name":"2taezeat, blog","logo":{"@type":"ImageObject","url":"https://2taezeat.github.io/icon/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://2taezeat.github.io/ accesskey=h title="2taezeat blog (Alt + H)"><img src=https://2taezeat.github.io/icon/apple-touch-icon.png alt aria-label=logo height=30>2taezeat blog</a><div class=logo-switches></div></div><ul id=menu><li><a href=https://2taezeat.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://2taezeat.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://2taezeat.github.io/searchs/ title=Search><span>Search</span></a></li><li><a href=https://github.com/2taezeat title=Github><span>Github</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://2taezeat.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://2taezeat.github.io/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">[자바 ORM 표준 JPA] ch04. 엔티티 매핑</h1><div class=post-description>자바 ORM 표준 JPA 프로그래밍, ch04. 엔티티 매핑, 간단 정리</div><div class=post-meta><span title='2024-08-04 11:30:03 +0000 +0000'>2024-08-04</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;969 words&nbsp;·&nbsp;2taezeat</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#41-entity>4.1 <code>@Entity</code></a></li><li><a href=#42-table>4.2 <code>@Table</code></a></li><li><a href=#43-다양한-매핑-사용>4.3 다양한 매핑 사용</a></li><li><a href=#44-데이터베이스-스키마-자동-생성>4.4 데이터베이스 스키마 자동 생성</a></li><li><a href=#45-ddl-생성-기능>4.5 DDL 생성 기능</a></li><li><a href=#46-기본-키-매핑>4.6 기본 키 매핑</a><ul><li><a href=#461-기본-키-직접-할당-전략>4.6.1 기본 키 직접 할당 전략</a></li><li><a href=#462-자동-생성-전략-identity>4.6.2 자동 생성 전략, IDENTITY</a></li><li><a href=#463-자동-생성-전략-sequence>4.6.3. 자동 생성 전략, SEQUENCE</a></li><li><a href=#464-자동-생성-전략-table>4.6.4. 자동 생성 전략, TABLE</a></li><li><a href=#465-자동-생성-전략-auto>4.6.5. 자동 생성 전략, AUTO</a></li><li><a href=#466-기본-키-매핑-정리>4.6.6 기본 키 매핑 정리</a></li></ul></li><li><a href=#47-필드와-컬럼-매핑-레퍼런스>4.7 필드와 컬럼 매핑: 레퍼런스</a></li><li><a href=#48-기본-매핑-활용-kotlin>4.8 기본 매핑 활용 (Kotlin)</a><ul><li><a href=#요구-사항-분석-및-설계>요구 사항 분석 및 설계</a></li><li><a href=#code>Code</a></li></ul></li><li><a href=#reference>Reference</a></li></ul></nav></div></details></div><div class=post-content><h1 id=41-entity>4.1 <code>@Entity</code><a hidden class=anchor aria-hidden=true href=#41-entity>#</a></h1><ul><li><p><code>@Entity</code>가 붙은 클래스는 JPA가 관리하는 것으로, 엔티티라 부른다.</p></li><li><p>설정하지 않으면 클래스 이름을 그대로 사용한다.</p></li><li><p>기본 생성자는 필수다 (파라미터가 없는 public 또는 protected 생성자).</p></li><li><p><code>final, enum, interface, inner 클래스</code>에는 사용할 수 없다.</p></li><li><p>저장할 필드에 final을 사용하면 안 된다.</p></li></ul><h1 id=42-table>4.2 <code>@Table</code><a hidden class=anchor aria-hidden=true href=#42-table>#</a></h1><p><img loading=lazy src=/images/JPA/SCR-20240829-jhfo.png alt=SCR-20240829-jhfo width=680 height=auto></p><ul><li><code>@Table</code>은 엔티티와 매핑할 테이블을 지정한다.</li></ul><h1 id=43-다양한-매핑-사용>4.3 다양한 매핑 사용<a hidden class=anchor aria-hidden=true href=#43-다양한-매핑-사용>#</a></h1><ul><li><code>enum</code>을 사용하려면 <code>@Enumerated</code> 어노테이션으로 매핑해야 한다.</li><li>날짜 타입은 <code>@Temporal</code>을 사용해서 매핑한다.</li><li><code>@Lob</code>을 사용하면 CLOB, BLOB 타입을 매핑할 수 있다.</li></ul><h1 id=44-데이터베이스-스키마-자동-생성>4.4 데이터베이스 스키마 자동 생성<a hidden class=anchor aria-hidden=true href=#44-데이터베이스-스키마-자동-생성>#</a></h1><p>JPA는 데이터베이스 스키마를 자동으로 생성하는 기능을 지원한다.</p><p>클래스의 매핑정보를 보면 어떤 테이블에 어떤 컬럼을 사용하는지 알 수 있다. JPA는 이 <strong>매핑정보</strong>와 <strong>데이터베이스 방언</strong>을 사용해서 <strong>데이터베이스 스키마</strong>를 생성한다.</p><p><img loading=lazy src=/images/JPA/SCR-20240829-jjjd.png alt=SCR-20240829-jjjd width=680 height=auto></p><p><img loading=lazy src=/images/JPA/SCR-20240829-jkaq.png alt=SCR-20240829-jkaq width=680 height=auto></p><h1 id=45-ddl-생성-기능>4.5 DDL 생성 기능<a hidden class=anchor aria-hidden=true href=#45-ddl-생성-기능>#</a></h1><p><strong>스키마 자동 생성하기를 통해 만들어지는 DDL에 제약조건을 추가</strong></p><p><img loading=lazy src=/images/JPA/SCR-20240829-jmhy.png alt=SCR-20240829-jmhy width=680 height=auto></p><p><img loading=lazy src=/images/JPA/SCR-20240829-jmin.png alt=SCR-20240829-jmin width=680 height=auto></p><p><strong>유니크 제약조건</strong></p><p><img loading=lazy src=/images/JPA/SCR-20240829-jmkv.png alt=SCR-20240829-jmkv width=680 height=auto></p><blockquote><p>이런 기능들은 단지 DDL을 자동 생성할 때만 사용되고 <strong>JPA의 실행 로직</strong>에는 영향을 주지 않는다.</p></blockquote><h1 id=46-기본-키-매핑>4.6 기본 키 매핑<a hidden class=anchor aria-hidden=true href=#46-기본-키-매핑>#</a></h1><p><strong>[ JPA가 제공하는 데이터베이스 기본 키 생성 전략 ]</strong></p><ul><li><p><strong>직접 할당</strong>: <strong>기본 키</strong>를 애플리케이션에서 <strong>직접 할당</strong>한다.</p></li><li><p><strong>자동 생성</strong>: <strong>대리 키</strong> 사용 방식</p><ul><li><p>IDENTITY: 기본 키 생성을 데이터베이스에 위임한다.</p></li><li><p>SEQUENCE: 데이터베이스 시퀀스를 사용해서 기본 키를 할당한다.</p></li><li><p>TABLE: 키 생성 테이블을 사용한다.</p></li></ul></li></ul><h2 id=461-기본-키-직접-할당-전략>4.6.1 기본 키 직접 할당 전략<a hidden class=anchor aria-hidden=true href=#461-기본-키-직접-할당-전략>#</a></h2><ul><li><p>기본 키를 직접 할당하려면 다음 코드와 같이 <code>@Id</code>로 매핑하면 된다.</p></li><li><p>기본 키 직접 할당 전략은 <code>em.persist()</code>로 엔티티를 저장하기 전에 애플리케이션에서 기본 키를 직접 할당하는 방법이다.</p></li></ul><h2 id=462-자동-생성-전략-identity>4.6.2 자동 생성 전략, IDENTITY<a hidden class=anchor aria-hidden=true href=#462-자동-생성-전략-identity>#</a></h2><p><img loading=lazy src=/images/JPA/SCR-20240829-jolz.png alt=SCR-20240829-jolz width=680 height=auto></p><ul><li><p>IDENTITY는 기본 키 생성을 데이터베이스에 위임하는 전략이다. 주로 MySQL, PostgreSQL, SQL Server, DB2에서 사용한다.</p></li><li><p><code>@Generatedvalue</code>의 strategy 속성 값을 <code>GenerationType.IDENTITY</code>로 지정하면 된다.</p></li></ul><p><img loading=lazy src=/images/JPA/SCR-20240829-joxl.png alt=SCR-20240829-joxl width=680 height=auto></p><p><img loading=lazy src=/images/JPA/SCR-20240829-jpbe.png alt=SCR-20240829-jpbe width=680 height=auto></p><h2 id=463-자동-생성-전략-sequence>4.6.3. 자동 생성 전략, SEQUENCE<a hidden class=anchor aria-hidden=true href=#463-자동-생성-전략-sequence>#</a></h2><p><img loading=lazy src=/images/JPA/SCR-20240829-jpnz.png alt=SCR-20240829-jpnz width=680 height=auto></p><ul><li><strong>데이터베이스 시퀀스</strong>는 유일한 값을 순서대로 생성하는 <strong>특별한 데이터베이스 오브젝트</strong>다.</li><li>SEQUENCE 전략은 이 시퀀스를 사용해서 기본 키를 생성한다.</li><li>이 전략은 시퀀스를 지원하는 오라클, PostgreSQL, DB2, H2 데이터베이스에서 사용할수 있다.</li></ul><p><img loading=lazy src=/images/JPA/SCR-20240829-jpvd.png alt=SCR-20240829-jpvd width=680 height=auto></p><p><img loading=lazy src=/images/JPA/SCR-20240829-jqqm.png alt=SCR-20240829-jqqm width=680 height=auto></p><h2 id=464-자동-생성-전략-table>4.6.4. 자동 생성 전략, TABLE<a hidden class=anchor aria-hidden=true href=#464-자동-생성-전략-table>#</a></h2><ul><li>TABLE 전략은 키 생성 전용 테이블을 하나 만들고 여기에 이름과 값으로 사용할 컬럼을 만들어 데이터베이스 시퀀스를 흉내내는 전략이다.</li><li>이 전략은 테이블을 사용하므로 모든 데이터베이스에 적용할 수 있다.</li></ul><p><img loading=lazy src=/images/JPA/SCR-20240829-jqyn.png alt=SCR-20240829-jqyn width=680 height=auto></p><ul><li><strong>TABLE 전략</strong>은 시퀀스 대신에 테이블을 사용한다는 것만 제외하면 <strong>SEQUENCE 전략</strong>과 내부 동작방식이 같다.</li></ul><p><img loading=lazy src=/images/JPA/SCR-20240829-jrml.png alt=SCR-20240829-jrml width=680 height=auto></p><h2 id=465-자동-생성-전략-auto>4.6.5. 자동 생성 전략, AUTO<a hidden class=anchor aria-hidden=true href=#465-자동-생성-전략-auto>#</a></h2><p>데이터베이스의 종류도 많고 기본 키를 만드는 방법도 다양하다.</p><p><code>GenerationType .AUTO</code> 는 <strong>선택한 데이터베이스 방언</strong>에 따라 IDENTITY, SEQUENCE, TABLE 전략 중 하나를 자동으로 선택한다.</p><p>예를 들어 오라클을 선택하면 SBQUENCE를, MySQL을 선택하면 IDENTITY를 사용한다.</p><ul><li>AUTO 전략의 장점은 <strong>데이터베이스를 변경해도 코드를 수정할 필요가 없다는 것</strong>이다.</li><li>특히 키 생성 전략이 아직 확정되지 않은 개발 초기 단계나 프로토타입 개발 시 편리하게 사용할 수 있다.</li><li>AUTO를 사용할 때 SEQUENCEL TABLE 전략이 선택되면 <strong>시퀀스나 키 생성용 테이블을 미리 만들어 두어야 한다.</strong><ul><li>스키마 자동 생성 기능을 사용한다면, 하이버네이트가 기본값을 사용해서 적절한 시퀀스나 키 생성용 테이블을 만든다.</li></ul></li></ul><h2 id=466-기본-키-매핑-정리>4.6.6 기본 키 매핑 정리<a hidden class=anchor aria-hidden=true href=#466-기본-키-매핑-정리>#</a></h2><ul><li><p>직접 할당: <code>em.persist()</code>를 호출하기 전에 애플리케이션에서 직접 식별자 값을 할당해야 한다.</p><ul><li>만약 식별자 값이 없으면 예외가 발생한다.</li></ul></li><li><p>IDENTITY: 데이터베이스에 <strong>엔티티를 저장해서 식별자 값을 획득한 후</strong>, 영속성 컨텍스트에 저장한다</p><ul><li>IDENTITY 전략은 테이블에 데이터를 저장해야 식별자 값을 획득할 수 있다.</li></ul></li><li><p>SEQUENCE: 데이터베이스 <strong>시퀀스에서 식별자 값을 획득</strong>한 후, 영속성 컨텍스트에 저장한다.</p></li><li><p>TABLE: 데이터베이스 <strong>시퀀스 생성용 테이블에서 식별자 값을 획득</strong>한 후, 영속성 컨텍스트에 저장한다.</p></li></ul><blockquote><p><strong>[ 권장하는 식별자 선택 전략 ]</strong></p><p>데이터베이스 <strong>기본 키</strong>는 다음 3가지 조건을 모두 만족해야 한다.</p><ol><li><p>null값은 허용하지 않는다.</p></li><li><p>유일해야 한다.</p></li><li><p>변해선 안 된다.</p></li></ol><p>테이블의 기본 키를 선택하는 전략은 크게 2가지가 있다.</p><ul><li><p><strong>자연 키(natural key)</strong></p><ul><li><p>비즈니스에 의미가 있는 키</p></li><li><p>예: 주민등록번호, 이메일, 전화번호</p></li></ul></li><li><p><strong>대리 키(surrogate key)</strong></p><ul><li><p>비즈니스와 관련 없는 임의로 만들어진 키, 대체 키로도 불린다.</p></li><li><p>예: 오라클 시퀀스, auto_increment, 키생성 테이블 사용</p></li></ul></li><li><p>자연 키보다는 대리 키를 권장</p><ul><li>비즈니스 환경은 언젠가 변하기 때문</li></ul></li><li><p>JPA는 모든 엔티티에 일관된 방식으로 <strong>대리 키</strong> 사용을 권장한다</p></li><li><p>기본 키는 변하면 안 된다는 기본 원칙으로 인해, 저장된 엔티티의 기본 키 값은 절대 변경하면 안 된다.</p><ul><li>이 경우 JPA는 예외를 발생시키거나 정상 동작하지 않는다.</li><li><code>setd()</code> 같이 식별자를 수정하는 메소드를 외부에 공개하지 않는 것도 문제를 예방하는 하나의 방법이 될 수 있다.</li></ul></li></ul></blockquote><h1 id=47-필드와-컬럼-매핑-레퍼런스>4.7 필드와 컬럼 매핑: 레퍼런스<a hidden class=anchor aria-hidden=true href=#47-필드와-컬럼-매핑-레퍼런스>#</a></h1><p><img loading=lazy src=/images/JPA/SCR-20240829-juro.png alt=SCR-20240829-juro width=680 height=auto></p><h1 id=48-기본-매핑-활용-kotlin>4.8 기본 매핑 활용 (Kotlin)<a hidden class=anchor aria-hidden=true href=#48-기본-매핑-활용-kotlin>#</a></h1><h2 id=요구-사항-분석-및-설계>요구 사항 분석 및 설계<a hidden class=anchor aria-hidden=true href=#요구-사항-분석-및-설계>#</a></h2><p><img loading=lazy src=/images/JPA/SCR-20240829-kdip.png alt=SCR-20240829-kdip width=680 height=auto></p><p><img loading=lazy src=/images/JPA/SCR-20240829-kdha.png alt=SCR-20240829-kdha width=680 height=auto></p><p><img loading=lazy src=/images/JPA/SCR-20240829-kdli.png alt=SCR-20240829-kdli width=680 height=auto></p><h2 id=code>Code<a hidden class=anchor aria-hidden=true href=#code>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=c1>// build.gradle.kts에 아래 설정이 있다고 가정
</span></span></span><span class=line><span class=cl><span class=c1>// Kotlin으로 JPA을 쉽게 사용하기 위한 설정
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>plugins</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>kotlin</span><span class=p>(</span><span class=s2>&#34;plugin.jpa&#34;</span><span class=p>)</span> <span class=n>version</span> <span class=s2>&#34;1.9.24&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>allOpen</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>annotation</span><span class=p>(</span><span class=s2>&#34;jakarta.persistence.Entity&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>annotation</span><span class=p>(</span><span class=s2>&#34;jakarta.persistence.Embeddable&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>annotation</span><span class=p>(</span><span class=s2>&#34;jakarta.persistence.MappedSuperclass&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>noArg</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>annotation</span><span class=p>(</span><span class=s2>&#34;jakarta.persistence.Entity&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span><span class=lnt>96
</span><span class=lnt>97
</span><span class=lnt>98
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-kotlin data-lang=kotlin><span class=line><span class=cl><span class=k>package</span> <span class=nn>~~~~~</span>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>jakarta.persistence.*</span>
</span></span><span class=line><span class=cl><span class=k>import</span> <span class=nn>java.util.Date</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Entity</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Member</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>street</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>zipcode</span><span class=p>:</span> <span class=n>String</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Id</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GeneratedValue</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;MEMBER_ID&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>id</span><span class=p>:</span> <span class=n>Long</span><span class=p>?</span> <span class=p>=</span> <span class=k>null</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>name</span> <span class=p>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>street</span> <span class=p>=</span> <span class=n>street</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>zipcode</span> <span class=p>=</span> <span class=n>zipcode</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>enum</span> <span class=k>class</span> <span class=nc>OrderStatus</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ORDER</span><span class=p>,</span> <span class=n>CANCEL</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Entity</span>
</span></span><span class=line><span class=cl><span class=nd>@Table</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;ORDERS&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Order</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>orderDate</span><span class=p>:</span> <span class=n>Date</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>status</span><span class=p>:</span> <span class=n>OrderStatus</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Id</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GeneratedValue</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;ORDER_ID&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>id</span><span class=p>:</span> <span class=n>Long</span><span class=p>?</span> <span class=p>=</span> <span class=k>null</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;MEMBER_ID&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>memberId</span><span class=p>:</span> <span class=n>Long</span><span class=p>?</span> <span class=p>=</span> <span class=k>null</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Temporal</span><span class=p>(</span><span class=nc>TemporalType</span><span class=p>.</span><span class=n>TIMESTAMP</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>orderDate</span><span class=p>:</span> <span class=n>Date</span> <span class=p>=</span> <span class=n>orderDate</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Enumerated</span><span class=p>(</span><span class=nc>EnumType</span><span class=p>.</span><span class=n>STRING</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>status</span><span class=p>:</span> <span class=n>OrderStatus</span> <span class=p>=</span> <span class=n>status</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Entity</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>OrderItem</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>orderPrice</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span><span class=p>:</span> <span class=n>Int</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Id</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GeneratedValue</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;ORDER_ITEM_ID&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>id</span><span class=p>:</span> <span class=n>Long</span><span class=p>?</span> <span class=p>=</span> <span class=k>null</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;ITEM_ID&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>itemID</span><span class=p>:</span> <span class=n>Long</span><span class=p>?</span> <span class=p>=</span> <span class=k>null</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;ORDER_ID&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>orderId</span><span class=p>:</span> <span class=n>Long</span><span class=p>?</span> <span class=p>=</span> <span class=k>null</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>orderPrice</span><span class=p>:</span> <span class=n>Int</span> <span class=p>=</span> <span class=n>orderPrice</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>count</span><span class=p>:</span> <span class=n>Int</span> <span class=p>=</span> <span class=n>count</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nd>@Entity</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Item</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=p>:</span> <span class=n>String</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>price</span><span class=p>:</span> <span class=n>Int</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>stockQuantity</span><span class=p>:</span> <span class=n>Int</span>
</span></span><span class=line><span class=cl><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Id</span>
</span></span><span class=line><span class=cl>    <span class=nd>@GeneratedValue</span>
</span></span><span class=line><span class=cl>    <span class=nd>@Column</span><span class=p>(</span><span class=n>name</span> <span class=p>=</span> <span class=s2>&#34;ITEM_ID&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>id</span><span class=p>:</span> <span class=n>Long</span><span class=p>?</span> <span class=p>=</span> <span class=k>null</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>name</span><span class=p>:</span> <span class=n>String</span> <span class=p>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>price</span><span class=p>:</span> <span class=n>Int</span> <span class=p>=</span> <span class=n>price</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>var</span> <span class=py>stockQuantity</span><span class=p>:</span> <span class=n>Int</span> <span class=p>=</span> <span class=n>stockQuantity</span>
</span></span><span class=line><span class=cl>        <span class=k>protected</span> <span class=k>set</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>#</a></h1><ul><li><p>자바 ORM 표준 JPA 프로그래밍 (김영한) <a href=https://product.kyobobook.co.kr/detail/S000001766367>https://product.kyobobook.co.kr/detail/S000001766367</a></p></li><li><p><a href=https://developer111.tistory.com/entry/%EC%BD%94%ED%8B%80%EB%A6%B0-JPA-Entity-%EC%9E%91%EC%84%B1%EB%B2%95>코틀린 JPA Entity 작성법</a></p></li><li><p><a href=https://spoqa.github.io/2022/08/16/kotlin-jpa-entity.html>스포카에서 Kotlin으로 JPA Entity를 정의하는 방법</a></p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://2taezeat.github.io/tags/jpa/>JPA</a></li><li><a href=https://2taezeat.github.io/tags/backend/>Backend</a></li></ul><nav class=paginav><a class=prev href=https://2taezeat.github.io/posts/jpa/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-ch05.-%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84-%EB%A7%A4%ED%95%91-%EA%B8%B0%EC%B4%88/><span class=title>« Prev</span><br><span>[자바 ORM 표준 JPA] ch05. 연관관계 매핑 기초</span>
</a><a class=next href=https://2taezeat.github.io/posts/jpa/%EC%9E%90%EB%B0%94-orm-%ED%91%9C%EC%A4%80-jpa-ch03.-%EC%98%81%EC%86%8D%EC%84%B1-%EA%B4%80%EB%A6%AC/><span class=title>Next »</span><br><span>[자바 ORM 표준 JPA] ch03. 영속성 관리</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share [자바 ORM 표준 JPA] ch04. 엔티티 매핑 on x" href="https://x.com/intent/tweet/?text=%5b%ec%9e%90%eb%b0%94%20ORM%20%ed%91%9c%ec%a4%80%20JPA%5d%20ch04.%20%ec%97%94%ed%8b%b0%ed%8b%b0%20%eb%a7%a4%ed%95%91&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f&amp;hashtags=JPA%2cBackend"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [자바 ORM 표준 JPA] ch04. 엔티티 매핑 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f&amp;title=%5b%ec%9e%90%eb%b0%94%20ORM%20%ed%91%9c%ec%a4%80%20JPA%5d%20ch04.%20%ec%97%94%ed%8b%b0%ed%8b%b0%20%eb%a7%a4%ed%95%91&amp;summary=%5b%ec%9e%90%eb%b0%94%20ORM%20%ed%91%9c%ec%a4%80%20JPA%5d%20ch04.%20%ec%97%94%ed%8b%b0%ed%8b%b0%20%eb%a7%a4%ed%95%91&amp;source=https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [자바 ORM 표준 JPA] ch04. 엔티티 매핑 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f&title=%5b%ec%9e%90%eb%b0%94%20ORM%20%ed%91%9c%ec%a4%80%20JPA%5d%20ch04.%20%ec%97%94%ed%8b%b0%ed%8b%b0%20%eb%a7%a4%ed%95%91"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [자바 ORM 표준 JPA] ch04. 엔티티 매핑 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [자바 ORM 표준 JPA] ch04. 엔티티 매핑 on whatsapp" href="https://api.whatsapp.com/send?text=%5b%ec%9e%90%eb%b0%94%20ORM%20%ed%91%9c%ec%a4%80%20JPA%5d%20ch04.%20%ec%97%94%ed%8b%b0%ed%8b%b0%20%eb%a7%a4%ed%95%91%20-%20https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [자바 ORM 표준 JPA] ch04. 엔티티 매핑 on telegram" href="https://telegram.me/share/url?text=%5b%ec%9e%90%eb%b0%94%20ORM%20%ed%91%9c%ec%a4%80%20JPA%5d%20ch04.%20%ec%97%94%ed%8b%b0%ed%8b%b0%20%eb%a7%a4%ed%95%91&amp;url=https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [자바 ORM 표준 JPA] ch04. 엔티티 매핑 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%5b%ec%9e%90%eb%b0%94%20ORM%20%ed%91%9c%ec%a4%80%20JPA%5d%20ch04.%20%ec%97%94%ed%8b%b0%ed%8b%b0%20%eb%a7%a4%ed%95%91&u=https%3a%2f%2f2taezeat.github.io%2fposts%2fjpa%2f%25EC%259E%2590%25EB%25B0%2594-orm-%25ED%2591%259C%25EC%25A4%2580-jpa-ch04.-%25EC%2597%2594%25ED%258B%25B0%25ED%258B%25B0-%25EB%25A7%25A4%25ED%2595%2591%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer><script src=https://utteranc.es/client.js repo=2taezeat/blog_comment issue-term=pathname label=comment theme=github-light crossorigin=anonymous async></script></article></main><footer class=footer><span>&copy; 2024 <a href=https://2taezeat.github.io/>2taezeat, blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>